"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{87919:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function(e){return e.toString("base64")},t.decode=function(e){return o.Buffer.from(e,"base64")};let o=n(87376)},94299:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function(e){return a.default.encode(e)},t.decode=function(e){return a.default.decode(e)};let a=o(n(92858))},1124:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"0x")},t.decode=function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?o.Buffer.from([]):o.Buffer.from(t.map(e=>parseInt(e,16)))};let o=n(87376)},88830:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,a)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.base64=t.bs58=t.utf8=t.hex=void 0,t.hex=r(n(1124)),t.utf8=r(n(6731)),t.bs58=r(n(94299)),t.base64=r(n(87919))},6731:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){return(o.isBrowser?new TextDecoder("utf-8"):new(n(27633)).TextDecoder("utf-8")).decode(e)},t.encode=function(e){return(o.isBrowser?new TextEncoder:new(n(27633)).TextEncoder("utf-8")).encode(e)};let o=n(48148)},48148:function(e,t,n){var o,a=n(68571);Object.defineProperty(t,"__esModule",{value:!0}),t.isVersionedTransaction=t.isBrowser=void 0,t.chunks=function(e,t){return Array.apply(0,Array(Math.ceil(e.length/t))).map((n,o)=>e.slice(o*t,(o+1)*t))},t.isBrowser=a.env.ANCHOR_BROWSER||"undefined"!=typeof window&&!(null===(o=window.process)||void 0===o?void 0:o.hasOwnProperty("type")),t.isVersionedTransaction=e=>"version"in e},1787:function(e,t,n){n.d(t,{AK:function(){return p},Cd:function(){return f},Gs:function(){return h},OS:function(){return P},Pr:function(){return b},a5:function(){return v},fO:function(){return y},wf:function(){return k}});var o=n(55041),a=n(19238),r=n.n(a),i=n(93372),s=n(23423),u=n(70531),c=n(18119),l=n(27720),m=n(87376).Buffer,p={address:"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P",metadata:{name:"pump",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},instructions:[{name:"buy",docs:["Buys tokens from a bonding curve."],discriminator:[102,6,61,18,1,218,235,234],accounts:[{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"fee_recipient",writable:!0},{name:"mint"},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"associated_user",writable:!0},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"creator_vault",writable:!0,pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,45,118,97,117,108,116]},{kind:"account",path:"bonding_curve.creator",account:"BondingCurve"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount",type:"u64"},{name:"max_sol_cost",type:"u64"}]},{name:"collect_creator_fee",docs:["Collects creator_fee from creator_vault to the coin creator account"],discriminator:[20,22,86,123,198,28,219,132],accounts:[{name:"creator",writable:!0,signer:!0},{name:"creator_vault",writable:!0,pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,45,118,97,117,108,116]},{kind:"account",path:"creator"}]}},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"create",docs:["Creates a new coin and bonding curve."],discriminator:[24,30,200,40,5,28,7,119],accounts:[{name:"mint",writable:!0,signer:!0},{name:"mint_authority",pda:{seeds:[{kind:"const",value:[109,105,110,116,45,97,117,116,104,111,114,105,116,121]}]}},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"mpl_token_metadata",address:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"},{name:"metadata",writable:!0,pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]},{kind:"account",path:"mint"}],program:{kind:"account",path:"mpl_token_metadata"}}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"uri",type:"string"},{name:"creator",type:"pubkey"}]},{name:"extend_account",docs:["Extends the size of program-owned accounts"],discriminator:[234,102,194,203,150,72,62,229],accounts:[{name:"account",writable:!0},{name:"user",signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"initialize",docs:["Creates the global state."],discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"global",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"migrate",docs:["Migrates liquidity to pump_amm if the bonding curve is complete"],discriminator:[155,234,231,146,236,158,162,30],accounts:[{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"withdraw_authority",writable:!0,relations:["global"]},{name:"mint"},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user",signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"pump_amm",address:"pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA"},{name:"pool",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108]},{kind:"const",value:[0,0]},{kind:"account",path:"pool_authority"},{kind:"account",path:"mint"},{kind:"account",path:"wsol_mint"}],program:{kind:"account",path:"pump_amm"}}},{name:"pool_authority",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108,45,97,117,116,104,111,114,105,116,121]},{kind:"account",path:"mint"}]}},{name:"pool_authority_mint_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool_authority"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"pool_authority_wsol_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool_authority"},{kind:"account",path:"token_program"},{kind:"account",path:"wsol_mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"amm_global_config",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,99,111,110,102,105,103]}],program:{kind:"account",path:"pump_amm"}}},{name:"wsol_mint",address:"So11111111111111111111111111111111111111112"},{name:"lp_mint",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108,95,108,112,95,109,105,110,116]},{kind:"account",path:"pool"}],program:{kind:"account",path:"pump_amm"}}},{name:"user_pool_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool_authority"},{kind:"account",path:"token_2022_program"},{kind:"account",path:"lp_mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"pool_base_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"pool_quote_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"token_program"},{kind:"account",path:"wsol_mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"token_2022_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"pump_amm_event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}],program:{kind:"account",path:"pump_amm"}}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"sell",docs:["Sells tokens into a bonding curve."],discriminator:[51,230,133,164,1,127,131,173],accounts:[{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"fee_recipient",writable:!0},{name:"mint"},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"associated_user",writable:!0},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"creator_vault",writable:!0,pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,45,118,97,117,108,116]},{kind:"account",path:"bonding_curve.creator",account:"BondingCurve"}]}},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"amount",type:"u64"},{name:"min_sol_output",type:"u64"}]},{name:"set_creator",docs:["Allows Global::set_creator_authority to set the bonding curve creator from Metaplex metadata or input argument"],discriminator:[254,148,255,112,207,142,170,165],accounts:[{name:"set_creator_authority",signer:!0,relations:["global"]},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"mint"},{name:"metadata",pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]},{kind:"account",path:"mint"}],program:{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]}}},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"creator",type:"pubkey"}]},{name:"set_metaplex_creator",docs:["Syncs the bonding curve creator with the Metaplex metadata creator if it exists"],discriminator:[138,96,174,217,48,85,197,246],accounts:[{name:"mint"},{name:"metadata",pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]},{kind:"account",path:"mint"}],program:{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]}}},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"set_params",docs:["Sets the global state parameters."],discriminator:[27,234,178,52,147,2,187,141],accounts:[{name:"global",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"authority",writable:!0,signer:!0,relations:["global"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"initial_virtual_token_reserves",type:"u64"},{name:"initial_virtual_sol_reserves",type:"u64"},{name:"initial_real_token_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"fee_basis_points",type:"u64"},{name:"withdraw_authority",type:"pubkey"},{name:"enable_migrate",type:"bool"},{name:"pool_migration_fee",type:"u64"},{name:"creator_fee_basis_points",type:"u64"},{name:"set_creator_authority",type:"pubkey"}]},{name:"update_global_authority",discriminator:[227,181,74,196,208,21,97,213],accounts:[{name:"global",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"authority",signer:!0,relations:["global"]},{name:"new_authority"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]}],accounts:[{name:"BondingCurve",discriminator:[23,183,248,55,96,216,172,96]},{name:"Global",discriminator:[167,232,232,177,200,108,114,127]}],events:[{name:"CollectCreatorFeeEvent",discriminator:[122,2,127,1,14,191,12,175]},{name:"CompleteEvent",discriminator:[95,114,97,156,212,46,152,8]},{name:"CompletePumpAmmMigrationEvent",discriminator:[189,233,93,185,92,148,234,148]},{name:"CreateEvent",discriminator:[27,114,169,77,222,235,99,118]},{name:"ExtendAccountEvent",discriminator:[97,97,215,144,93,146,22,124]},{name:"SetCreatorEvent",discriminator:[237,52,123,37,245,251,72,210]},{name:"SetMetaplexCreatorEvent",discriminator:[142,203,6,32,127,105,191,162]},{name:"SetParamsEvent",discriminator:[223,195,159,246,62,48,143,131]},{name:"TradeEvent",discriminator:[189,219,127,211,78,230,97,238]},{name:"UpdateGlobalAuthorityEvent",discriminator:[182,195,137,42,35,206,207,247]}],errors:[{code:6e3,name:"NotAuthorized",msg:"The given account is not authorized to execute this instruction."},{code:6001,name:"AlreadyInitialized",msg:"The program is already initialized."},{code:6002,name:"TooMuchSolRequired",msg:"slippage: Too much SOL required to buy the given amount of tokens."},{code:6003,name:"TooLittleSolReceived",msg:"slippage: Too little SOL received to sell the given amount of tokens."},{code:6004,name:"MintDoesNotMatchBondingCurve",msg:"The mint does not match the bonding curve."},{code:6005,name:"BondingCurveComplete",msg:"The bonding curve has completed and liquidity migrated to raydium."},{code:6006,name:"BondingCurveNotComplete",msg:"The bonding curve has not completed."},{code:6007,name:"NotInitialized",msg:"The program is not initialized."},{code:6008,name:"WithdrawTooFrequent",msg:"Withdraw too frequent"},{code:6009,name:"NewSizeShouldBeGreaterThanCurrentSize",msg:"new_size should be > current_size"},{code:6010,name:"AccountTypeNotSupported",msg:"Account type not supported"},{code:6011,name:"InitialRealTokenReservesShouldBeLessThanTokenTotalSupply",msg:"initial_real_token_reserves should be less than token_total_supply"},{code:6012,name:"InitialVirtualTokenReservesShouldBeGreaterThanInitialRealTokenReserves",msg:"initial_virtual_token_reserves should be greater than initial_real_token_reserves"},{code:6013,name:"FeeBasisPointsGreaterThanMaximum",msg:"fee_basis_points greater than maximum"},{code:6014,name:"AllZerosWithdrawAuthority",msg:"Withdraw authority cannot be set to System Program ID"},{code:6015,name:"PoolMigrationFeeShouldBeLessThanFinalRealSolReserves",msg:"pool_migration_fee should be less than final_real_sol_reserves"},{code:6016,name:"PoolMigrationFeeShouldBeGreaterThanCreatorFeePlusMaxMigrateFees",msg:"pool_migration_fee should be greater than creator_fee + MAX_MIGRATE_FEES"},{code:6017,name:"DisabledWithdraw",msg:"Migrate instruction is disabled"},{code:6018,name:"DisabledMigrate",msg:"Migrate instruction is disabled"},{code:6019,name:"InvalidCreator",msg:"Invalid creator pubkey"},{code:6020,name:"BuyZeroAmount",msg:"Buy zero amount"},{code:6021,name:"NotEnoughTokensToBuy",msg:"Not enough tokens to buy"},{code:6022,name:"SellZeroAmount",msg:"Sell zero amount"},{code:6023,name:"NotEnoughTokensToSell",msg:"Not enough tokens to sell"},{code:6024,name:"Overflow",msg:"Overflow"},{code:6025,name:"Truncation",msg:"Truncation"},{code:6026,name:"DivisionByZero",msg:"Division by zero"},{code:6027,name:"NotEnoughRemainingAccounts",msg:"Not enough remaining accounts"},{code:6028,name:"AllFeeRecipientsShouldBeNonZero",msg:"All fee recipients should be non-zero"},{code:6029,name:"UnsortedNotUniqueFeeRecipients",msg:"Unsorted or not unique fee recipients"},{code:6030,name:"CreatorShouldNotBeZero",msg:"Creator should not be zero"}],types:[{name:"BondingCurve",type:{kind:"struct",fields:[{name:"virtual_token_reserves",type:"u64"},{name:"virtual_sol_reserves",type:"u64"},{name:"real_token_reserves",type:"u64"},{name:"real_sol_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"complete",type:"bool"},{name:"creator",type:"pubkey"}]}},{name:"CollectCreatorFeeEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"creator",type:"pubkey"},{name:"creator_fee",type:"u64"}]}},{name:"CompleteEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"CompletePumpAmmMigrationEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"mint",type:"pubkey"},{name:"mint_amount",type:"u64"},{name:"sol_amount",type:"u64"},{name:"pool_migration_fee",type:"u64"},{name:"bonding_curve",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"pool",type:"pubkey"}]}},{name:"CreateEvent",type:{kind:"struct",fields:[{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"uri",type:"string"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"user",type:"pubkey"},{name:"creator",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"virtual_token_reserves",type:"u64"},{name:"virtual_sol_reserves",type:"u64"},{name:"real_token_reserves",type:"u64"},{name:"token_total_supply",type:"u64"}]}},{name:"ExtendAccountEvent",type:{kind:"struct",fields:[{name:"account",type:"pubkey"},{name:"user",type:"pubkey"},{name:"current_size",type:"u64"},{name:"new_size",type:"u64"},{name:"timestamp",type:"i64"}]}},{name:"Global",type:{kind:"struct",fields:[{name:"initialized",docs:["Unused"],type:"bool"},{name:"authority",type:"pubkey"},{name:"fee_recipient",type:"pubkey"},{name:"initial_virtual_token_reserves",type:"u64"},{name:"initial_virtual_sol_reserves",type:"u64"},{name:"initial_real_token_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"fee_basis_points",type:"u64"},{name:"withdraw_authority",type:"pubkey"},{name:"enable_migrate",docs:["Unused"],type:"bool"},{name:"pool_migration_fee",type:"u64"},{name:"creator_fee_basis_points",type:"u64"},{name:"fee_recipients",type:{array:["pubkey",7]}},{name:"set_creator_authority",type:"pubkey"}]}},{name:"SetCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"creator",type:"pubkey"}]}},{name:"SetMetaplexCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"metadata",type:"pubkey"},{name:"creator",type:"pubkey"}]}},{name:"SetParamsEvent",type:{kind:"struct",fields:[{name:"initial_virtual_token_reserves",type:"u64"},{name:"initial_virtual_sol_reserves",type:"u64"},{name:"initial_real_token_reserves",type:"u64"},{name:"final_real_sol_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"fee_basis_points",type:"u64"},{name:"withdraw_authority",type:"pubkey"},{name:"enable_migrate",type:"bool"},{name:"pool_migration_fee",type:"u64"},{name:"creator_fee_basis_points",type:"u64"},{name:"fee_recipients",type:{array:["pubkey",8]}},{name:"timestamp",type:"i64"},{name:"set_creator_authority",type:"pubkey"}]}},{name:"TradeEvent",type:{kind:"struct",fields:[{name:"mint",type:"pubkey"},{name:"sol_amount",type:"u64"},{name:"token_amount",type:"u64"},{name:"is_buy",type:"bool"},{name:"user",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"virtual_sol_reserves",type:"u64"},{name:"virtual_token_reserves",type:"u64"},{name:"real_sol_reserves",type:"u64"},{name:"real_token_reserves",type:"u64"},{name:"fee_recipient",type:"pubkey"},{name:"fee_basis_points",type:"u64"},{name:"fee",type:"u64"},{name:"creator",type:"pubkey"},{name:"creator_fee_basis_points",type:"u64"},{name:"creator_fee",type:"u64"}]}},{name:"UpdateGlobalAuthorityEvent",type:{kind:"struct",fields:[{name:"global",type:"pubkey"},{name:"authority",type:"pubkey"},{name:"new_authority",type:"pubkey"},{name:"timestamp",type:"i64"}]}}]};function d(e,t,n,a){return _(n,e.feeBasisPoints).add(a||!o.PublicKey.default.equals(t.creator)?_(n,e.creatorFeeBasisPoints):new(r())(0))}function _(e,t){var n,o;return n=e.mul(t),o=new(r())(1e4),n.add(o.subn(1)).div(o)}function y(e){return{virtualTokenReserves:e.initialVirtualTokenReserves,virtualSolReserves:e.initialVirtualSolReserves,realTokenReserves:e.initialRealTokenReserves,realSolReserves:new(r())(0),tokenTotalSupply:e.tokenTotalSupply,complete:!1,creator:o.PublicKey.default}}function f(e,t,n){if(n.eq(new(r())(0)))return new(r())(0);let a=!1;if(null===t&&(t=y(e),a=!0),t.virtualTokenReserves.eq(new(r())(0)))return new(r())(0);let i=e.feeBasisPoints.add(a||!o.PublicKey.default.equals(t.creator)?e.creatorFeeBasisPoints:new(r())(0)),s=n.muln(1e4).div(i.addn(1e4)),u=s.mul(t.virtualTokenReserves).div(t.virtualSolReserves.add(s));return r().min(u,t.realTokenReserves)}function h(e,t,n){if(n.eq(new(r())(0)))return new(r())(0);let o=!1;if(null===t&&(t=y(e),o=!0),t.virtualTokenReserves.eq(new(r())(0)))return new(r())(0);let a=r().min(n,t.realTokenReserves),i=a.mul(t.virtualSolReserves).div(t.virtualTokenReserves.sub(a)).add(new(r())(1));return i.add(d(e,t,i,o))}function b(e,t,n){if(n.eq(new(r())(0))||t.virtualTokenReserves.eq(new(r())(0)))return new(r())(0);let o=n.mul(t.virtualSolReserves).div(t.virtualTokenReserves.add(n));return o.sub(d(e,t,o,!1))}function g(e,t){return o.PublicKey.findProgramAddressSync([m.from("pool-authority"),e.toBuffer()],t)}var k=0;function v(e,t,n){let[o]=g(n,e);return(0,s.ZI)(k,o,n,i.Gd,t)}var w=new o.PublicKey("6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"),A=new o.PublicKey("pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA"),P=class{constructor(e,t=w,n=A){this.connection=e,this.pumpProgram=function(e,t){let n={...p};return n.address=t.toString(),new u.Program(n,new u.AnchorProvider(e,null,{}))}(e,t),this.pumpAmmSdk=new s.Gj(e,n.toBase58())}programId(){return this.pumpProgram.programId}globalPda(){return function(e){let[t]=o.PublicKey.findProgramAddressSync([m.from("global")],e);return t}(this.pumpProgram.programId)}bondingCurvePda(e){return function(e,t){let[n]=o.PublicKey.findProgramAddressSync([m.from("bonding-curve"),new o.PublicKey(t).toBuffer()],e);return n}(this.pumpProgram.programId,e)}creatorVaultPda(e){return function(e,t){let[n]=o.PublicKey.findProgramAddressSync([m.from("creator-vault"),t.toBuffer()],e);return n}(this.pumpProgram.programId,e)}pumpPoolAuthorityPda(e){return g(e,this.pumpProgram.programId)}canonicalPumpPoolPda(e){return v(this.pumpProgram.programId,this.pumpAmmSdk.programId(),e)}decodeGlobal(e){return this.pumpProgram.coder.accounts.decode("global",e.data)}decodeBondingCurve(e){return this.pumpProgram.coder.accounts.decode("bondingCurve",e.data)}async fetchGlobal(){return await this.pumpProgram.account.global.fetch(this.globalPda())}async fetchBondingCurve(e){return await this.pumpProgram.account.bondingCurve.fetch(this.bondingCurvePda(e))}async fetchBuyState(e,t){let[n,o]=await this.connection.getMultipleAccountsInfo([this.bondingCurvePda(e),(0,c.MO)(e,t,!0)]);if(!n)throw Error(`Bonding curve account not found for mint: ${e.toBase58()}`);let a=this.decodeBondingCurve(n);return{bondingCurveAccountInfo:n,bondingCurve:a,associatedUserAccountInfo:o}}async fetchSellState(e,t){let[n,o]=await this.connection.getMultipleAccountsInfo([this.bondingCurvePda(e),(0,c.MO)(e,t,!0)]);if(!n)throw Error(`Bonding curve account not found for mint: ${e.toBase58()}`);if(!o)throw Error(`Associated token account not found for mint: ${e.toBase58()} and user: ${t.toBase58()}`);let a=this.decodeBondingCurve(n);return{bondingCurveAccountInfo:n,bondingCurve:a}}async createInstruction({mint:e,name:t,symbol:n,uri:o,creator:a,user:r}){return await this.pumpProgram.methods.create(t,n,o,a).accountsPartial({mint:e,user:r}).instruction()}async buyInstructions({global:e,bondingCurveAccountInfo:t,bondingCurve:n,associatedUserAccountInfo:o,mint:a,user:r,amount:i,solAmount:s,slippage:u}){let m=[];t.data.length<150&&m.push(await this.extendAccountInstruction({account:this.bondingCurvePda(a),user:r}));let p=(0,c.MO)(a,r,!0);return o||m.push((0,l.ji)(r,p,r,a)),m.push(await this.buyInstruction({global:e,mint:a,creator:n.creator,user:r,associatedUser:p,amount:i,solAmount:s,slippage:u})),m}async createAndBuyInstructions({global:e,mint:t,name:n,symbol:o,uri:a,creator:r,user:i,amount:s,solAmount:u}){let m=(0,c.MO)(t,i,!0);return[await this.createInstruction({mint:t,name:n,symbol:o,uri:a,creator:r,user:i}),await this.extendAccountInstruction({account:this.bondingCurvePda(t),user:i}),(0,l.ji)(i,m,i,t),await this.buyInstruction({global:e,mint:t,creator:r,user:i,associatedUser:m,amount:s,solAmount:u,slippage:1})]}async buyInstruction({global:e,mint:t,creator:n,user:o,associatedUser:a,amount:i,solAmount:s,slippage:u}){return await this.pumpProgram.methods.buy(i,s.add(s.mul(new(r())(Math.floor(10*u))).div(new(r())(1e3)))).accountsPartial({feeRecipient:I(e),mint:t,associatedUser:a,user:o,creatorVault:this.creatorVaultPda(n)}).instruction()}async sellInstructions({global:e,bondingCurveAccountInfo:t,bondingCurve:n,mint:o,user:a,amount:i,solAmount:s,slippage:u}){let l=[];return t.data.length<150&&l.push(await this.extendAccountInstruction({account:this.bondingCurvePda(o),user:a})),l.push(await this.pumpProgram.methods.sell(i,s.sub(s.mul(new(r())(Math.floor(10*u))).div(new(r())(1e3)))).accountsPartial({feeRecipient:I(e),mint:o,associatedUser:(0,c.MO)(o,a,!0),user:a,creatorVault:this.creatorVaultPda(n.creator)}).instruction()),l}async extendAccountInstruction({account:e,user:t}){return this.pumpProgram.methods.extendAccount().accountsPartial({account:e,user:t}).instruction()}async migrateInstruction({global:e,mint:t,user:n}){return this.pumpProgram.methods.migrate().accountsPartial({mint:t,user:n,pumpAmm:this.pumpAmmSdk.programId(),withdrawAuthority:e.withdrawAuthority}).instruction()}async collectCoinCreatorFeeInstructions(e){return[await this.pumpProgram.methods.collectCreatorFee().accountsPartial({creator:e}).instruction(),...await this.pumpAmmSdk.collectCoinCreatorFee(e)]}async getCreatorVaultBalance(e){let t=this.creatorVaultPda(e),n=await this.connection.getAccountInfo(t);if(null===n)return new(r())(0);let o=await this.connection.getMinimumBalanceForRentExemption(n.data.length);return new(r())(n.lamports<o?0:n.lamports-o)}};function I(e){let t=[e.feeRecipient,...e.feeRecipients];return t[Math.floor(Math.random()*t.length)]}},23423:function(e,t,n){n.d(t,{_n:function(){return x},Gj:function(){return q},W6:function(){return E},_U:function(){return S},ZI:function(){return w},dR:function(){return T}});var o=n(55041),a=n(19238),r=n.n(a),i=n(18119),s=n(27720),u=n(93372),c=n(91214),l=n(75379),m=n(87376).Buffer;let p=(0,c.struct)([(0,c.u8)("instruction")]);var d=n(14272),_=n(87376).Buffer;let y=(0,c.struct)([(0,c.u8)("instruction")]);function f(e,t,n,a=[],r=u.H_){let i=(0,d.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,a),s=_.alloc(y.span);return y.encode({instruction:l.c.CloseAccount},s),new o.TransactionInstruction({keys:i,programId:r,data:s})}var h=n(74754),b=n(70531);!function(e){if(e.length>=255)throw TypeError("Alphabet too long");let t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<e.length;n++){let o=e.charAt(n),a=o.charCodeAt(0);if(255!==t[a])throw TypeError(o+" is ambiguous");t[a]=n}let n=e.length;e.charAt(0)}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var g=n(87376).Buffer,k="pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA",v=new o.PublicKey(k);function w(e,t,n,a,i=v){return o.PublicKey.findProgramAddressSync([g.from("pool"),new(r())(e).toArrayLike(g,"le",2),t.toBuffer(),n.toBuffer(),a.toBuffer()],i)}function A(e,t,n,o,a){if(t<0||t>100)throw Error("Slippage must be between 0 and 100 (0% to 100%)");let i=e.mul(o).div(n),s=new(r())((1+t/100)*1e9),u=e.mul(s).div(new(r())(1e9)),c=i.mul(s).div(new(r())(1e9));return{token1:i,lpToken:e.mul(a).div(n),maxToken0:u,maxToken1:c}}function P(e,t){return e.add(t).sub(new(r())(1)).div(t)}new o.PublicKey("6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P");var I={address:"pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA",metadata:{name:"pump_amm",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},instructions:[{name:"buy",discriminator:[102,6,61,18,1,218,235,234],accounts:[{name:"pool"},{name:"user",writable:!0,signer:!0},{name:"global_config"},{name:"base_mint",relations:["pool"]},{name:"quote_mint",relations:["pool"]},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"pool_base_token_account",writable:!0,relations:["pool"]},{name:"pool_quote_token_account",writable:!0,relations:["pool"]},{name:"protocol_fee_recipient"},{name:"protocol_fee_recipient_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"protocol_fee_recipient"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"base_token_program"},{name:"quote_token_program"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"},{name:"coin_creator_vault_ata",writable:!0,pda:{seeds:[{kind:"account",path:"coin_creator_vault_authority"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"coin_creator_vault_authority",pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,95,118,97,117,108,116]},{kind:"account",path:"pool.coin_creator",account:"Pool"}]}}],args:[{name:"base_amount_out",type:"u64"},{name:"max_quote_amount_in",type:"u64"}]},{name:"collect_coin_creator_fee",discriminator:[160,57,89,42,181,139,43,66],accounts:[{name:"quote_mint"},{name:"quote_token_program"},{name:"coin_creator",signer:!0},{name:"coin_creator_vault_authority",pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,95,118,97,117,108,116]},{kind:"account",path:"coin_creator"}]}},{name:"coin_creator_vault_ata",writable:!0,pda:{seeds:[{kind:"account",path:"coin_creator_vault_authority"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"coin_creator_token_account",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"create_config",discriminator:[201,207,243,114,75,111,47,189],accounts:[{name:"admin",writable:!0,signer:!0,address:"8LWu7QM2dGR1G8nKDHthckea57bkCzXyBTAKPJUBDHo8"},{name:"global_config",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,99,111,110,102,105,103]}]}},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee_recipients",type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"}]},{name:"create_pool",discriminator:[233,146,209,142,207,104,64,188],accounts:[{name:"pool",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108]},{kind:"arg",path:"index"},{kind:"account",path:"creator"},{kind:"account",path:"base_mint"},{kind:"account",path:"quote_mint"}]}},{name:"global_config"},{name:"creator",writable:!0,signer:!0},{name:"base_mint"},{name:"quote_mint"},{name:"lp_mint",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108,95,108,112,95,109,105,110,116]},{kind:"account",path:"pool"}]}},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"user_pool_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"creator"},{kind:"account",path:"token_2022_program"},{kind:"account",path:"lp_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"pool_base_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"base_token_program"},{kind:"account",path:"base_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"pool_quote_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_2022_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"base_token_program"},{name:"quote_token_program"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"index",type:"u16"},{name:"base_amount_in",type:"u64"},{name:"quote_amount_in",type:"u64"},{name:"coin_creator",type:"pubkey"}]},{name:"deposit",discriminator:[242,35,198,137,82,225,242,182],accounts:[{name:"pool",writable:!0},{name:"global_config"},{name:"user",signer:!0},{name:"base_mint",relations:["pool"]},{name:"quote_mint",relations:["pool"]},{name:"lp_mint",writable:!0,relations:["pool"]},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"user_pool_token_account",writable:!0},{name:"pool_base_token_account",writable:!0,relations:["pool"]},{name:"pool_quote_token_account",writable:!0,relations:["pool"]},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"token_2022_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lp_token_amount_out",type:"u64"},{name:"max_base_amount_in",type:"u64"},{name:"max_quote_amount_in",type:"u64"}]},{name:"disable",discriminator:[185,173,187,90,216,15,238,233],accounts:[{name:"admin",signer:!0,relations:["global_config"]},{name:"global_config",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"disable_create_pool",type:"bool"},{name:"disable_deposit",type:"bool"},{name:"disable_withdraw",type:"bool"},{name:"disable_buy",type:"bool"},{name:"disable_sell",type:"bool"}]},{name:"extend_account",discriminator:[234,102,194,203,150,72,62,229],accounts:[{name:"account",writable:!0},{name:"user",signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"sell",discriminator:[51,230,133,164,1,127,131,173],accounts:[{name:"pool"},{name:"user",writable:!0,signer:!0},{name:"global_config"},{name:"base_mint",relations:["pool"]},{name:"quote_mint",relations:["pool"]},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"pool_base_token_account",writable:!0,relations:["pool"]},{name:"pool_quote_token_account",writable:!0,relations:["pool"]},{name:"protocol_fee_recipient"},{name:"protocol_fee_recipient_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"protocol_fee_recipient"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"base_token_program"},{name:"quote_token_program"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"},{name:"coin_creator_vault_ata",writable:!0,pda:{seeds:[{kind:"account",path:"coin_creator_vault_authority"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"coin_creator_vault_authority",pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,95,118,97,117,108,116]},{kind:"account",path:"pool.coin_creator",account:"Pool"}]}}],args:[{name:"base_amount_in",type:"u64"},{name:"min_quote_amount_out",type:"u64"}]},{name:"set_coin_creator",docs:["Sets Pool::coin_creator from Metaplex metadata creator or BondingCurve::creator"],discriminator:[210,149,128,45,188,58,78,175],accounts:[{name:"pool",writable:!0},{name:"metadata",pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]},{kind:"account",path:"pool.base_mint",account:"Pool"}],program:{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]}}},{name:"bonding_curve",pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"pool.base_mint",account:"Pool"}],program:{kind:"const",value:[1,86,224,246,147,102,90,207,68,219,21,104,191,23,91,170,81,137,203,151,245,210,255,59,101,93,43,182,253,109,24,176]}}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"update_admin",discriminator:[161,176,40,213,60,184,179,228],accounts:[{name:"admin",signer:!0,relations:["global_config"]},{name:"global_config",writable:!0},{name:"new_admin"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"update_fee_config",discriminator:[104,184,103,242,88,151,107,20],accounts:[{name:"admin",signer:!0,relations:["global_config"]},{name:"global_config",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee_recipients",type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"}]},{name:"withdraw",discriminator:[183,18,70,156,148,109,161,34],accounts:[{name:"pool",writable:!0},{name:"global_config"},{name:"user",signer:!0},{name:"base_mint",relations:["pool"]},{name:"quote_mint",relations:["pool"]},{name:"lp_mint",writable:!0,relations:["pool"]},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"user_pool_token_account",writable:!0},{name:"pool_base_token_account",writable:!0,relations:["pool"]},{name:"pool_quote_token_account",writable:!0,relations:["pool"]},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"token_2022_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lp_token_amount_in",type:"u64"},{name:"min_base_amount_out",type:"u64"},{name:"min_quote_amount_out",type:"u64"}]}],accounts:[{name:"BondingCurve",discriminator:[23,183,248,55,96,216,172,96]},{name:"GlobalConfig",discriminator:[149,8,156,202,160,252,176,217]},{name:"Pool",discriminator:[241,154,109,4,17,177,109,188]}],events:[{name:"BuyEvent",discriminator:[103,244,82,31,44,245,119,119]},{name:"CollectCoinCreatorFeeEvent",discriminator:[232,245,194,238,234,218,58,89]},{name:"CreateConfigEvent",discriminator:[107,52,89,129,55,226,81,22]},{name:"CreatePoolEvent",discriminator:[177,49,12,210,160,118,167,116]},{name:"DepositEvent",discriminator:[120,248,61,83,31,142,107,144]},{name:"DisableEvent",discriminator:[107,253,193,76,228,202,27,104]},{name:"ExtendAccountEvent",discriminator:[97,97,215,144,93,146,22,124]},{name:"SellEvent",discriminator:[62,47,55,10,165,3,220,42]},{name:"SetBondingCurveCoinCreatorEvent",discriminator:[242,231,235,102,65,99,189,211]},{name:"SetMetaplexCoinCreatorEvent",discriminator:[150,107,199,123,124,207,102,228]},{name:"UpdateAdminEvent",discriminator:[225,152,171,87,246,63,66,234]},{name:"UpdateFeeConfigEvent",discriminator:[90,23,65,35,62,244,188,208]},{name:"WithdrawEvent",discriminator:[22,9,133,26,160,44,71,192]}],errors:[{code:6e3,name:"FeeBasisPointsExceedsMaximum"},{code:6001,name:"ZeroBaseAmount"},{code:6002,name:"ZeroQuoteAmount"},{code:6003,name:"TooLittlePoolTokenLiquidity"},{code:6004,name:"ExceededSlippage"},{code:6005,name:"InvalidAdmin"},{code:6006,name:"UnsupportedBaseMint"},{code:6007,name:"UnsupportedQuoteMint"},{code:6008,name:"InvalidBaseMint"},{code:6009,name:"InvalidQuoteMint"},{code:6010,name:"InvalidLpMint"},{code:6011,name:"AllProtocolFeeRecipientsShouldBeNonZero"},{code:6012,name:"UnsortedNotUniqueProtocolFeeRecipients"},{code:6013,name:"InvalidProtocolFeeRecipient"},{code:6014,name:"InvalidPoolBaseTokenAccount"},{code:6015,name:"InvalidPoolQuoteTokenAccount"},{code:6016,name:"BuyMoreBaseAmountThanPoolReserves"},{code:6017,name:"DisabledCreatePool"},{code:6018,name:"DisabledDeposit"},{code:6019,name:"DisabledWithdraw"},{code:6020,name:"DisabledBuy"},{code:6021,name:"DisabledSell"},{code:6022,name:"SameMint"},{code:6023,name:"Overflow"},{code:6024,name:"Truncation"},{code:6025,name:"DivisionByZero"},{code:6026,name:"NewSizeLessThanCurrentSize"},{code:6027,name:"AccountTypeNotSupported"},{code:6028,name:"OnlyCanonicalPumpPoolsCanHaveCoinCreator"}],types:[{name:"BondingCurve",type:{kind:"struct",fields:[{name:"virtual_token_reserves",type:"u64"},{name:"virtual_sol_reserves",type:"u64"},{name:"real_token_reserves",type:"u64"},{name:"real_sol_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"complete",type:"bool"},{name:"creator",type:"pubkey"}]}},{name:"BuyEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"base_amount_out",type:"u64"},{name:"max_quote_amount_in",type:"u64"},{name:"user_base_token_reserves",type:"u64"},{name:"user_quote_token_reserves",type:"u64"},{name:"pool_base_token_reserves",type:"u64"},{name:"pool_quote_token_reserves",type:"u64"},{name:"quote_amount_in",type:"u64"},{name:"lp_fee_basis_points",type:"u64"},{name:"lp_fee",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee",type:"u64"},{name:"quote_amount_in_with_lp_fee",type:"u64"},{name:"user_quote_amount_in",type:"u64"},{name:"pool",type:"pubkey"},{name:"user",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"protocol_fee_recipient",type:"pubkey"},{name:"protocol_fee_recipient_token_account",type:"pubkey"},{name:"coin_creator",type:"pubkey"},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"coin_creator_fee",type:"u64"}]}},{name:"CollectCoinCreatorFeeEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"coin_creator",type:"pubkey"},{name:"coin_creator_fee",type:"u64"},{name:"coin_creator_vault_ata",type:"pubkey"},{name:"coin_creator_token_account",type:"pubkey"}]}},{name:"CreateConfigEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin",type:"pubkey"},{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee_recipients",type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"}]}},{name:"CreatePoolEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"index",type:"u16"},{name:"creator",type:"pubkey"},{name:"base_mint",type:"pubkey"},{name:"quote_mint",type:"pubkey"},{name:"base_mint_decimals",type:"u8"},{name:"quote_mint_decimals",type:"u8"},{name:"base_amount_in",type:"u64"},{name:"quote_amount_in",type:"u64"},{name:"pool_base_amount",type:"u64"},{name:"pool_quote_amount",type:"u64"},{name:"minimum_liquidity",type:"u64"},{name:"initial_liquidity",type:"u64"},{name:"lp_token_amount_out",type:"u64"},{name:"pool_bump",type:"u8"},{name:"pool",type:"pubkey"},{name:"lp_mint",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"coin_creator",type:"pubkey"}]}},{name:"DepositEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"lp_token_amount_out",type:"u64"},{name:"max_base_amount_in",type:"u64"},{name:"max_quote_amount_in",type:"u64"},{name:"user_base_token_reserves",type:"u64"},{name:"user_quote_token_reserves",type:"u64"},{name:"pool_base_token_reserves",type:"u64"},{name:"pool_quote_token_reserves",type:"u64"},{name:"base_amount_in",type:"u64"},{name:"quote_amount_in",type:"u64"},{name:"lp_mint_supply",type:"u64"},{name:"pool",type:"pubkey"},{name:"user",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"user_pool_token_account",type:"pubkey"}]}},{name:"DisableEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin",type:"pubkey"},{name:"disable_create_pool",type:"bool"},{name:"disable_deposit",type:"bool"},{name:"disable_withdraw",type:"bool"},{name:"disable_buy",type:"bool"},{name:"disable_sell",type:"bool"}]}},{name:"ExtendAccountEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"account",type:"pubkey"},{name:"user",type:"pubkey"},{name:"current_size",type:"u64"},{name:"new_size",type:"u64"}]}},{name:"GlobalConfig",type:{kind:"struct",fields:[{name:"admin",docs:["The admin pubkey"],type:"pubkey"},{name:"lp_fee_basis_points",docs:["The lp fee in basis points (0.01%)"],type:"u64"},{name:"protocol_fee_basis_points",docs:["The protocol fee in basis points (0.01%)"],type:"u64"},{name:"disable_flags",docs:["Flags to disable certain functionality","bit 0 - Disable create pool","bit 1 - Disable deposit","bit 2 - Disable withdraw","bit 3 - Disable buy","bit 4 - Disable sell"],type:"u8"},{name:"protocol_fee_recipients",docs:["Addresses of the protocol fee recipients"],type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",docs:["The coin creator fee in basis points (0.01%)"],type:"u64"}]}},{name:"Pool",type:{kind:"struct",fields:[{name:"pool_bump",type:"u8"},{name:"index",type:"u16"},{name:"creator",type:"pubkey"},{name:"base_mint",type:"pubkey"},{name:"quote_mint",type:"pubkey"},{name:"lp_mint",type:"pubkey"},{name:"pool_base_token_account",type:"pubkey"},{name:"pool_quote_token_account",type:"pubkey"},{name:"lp_supply",docs:["True circulating supply without burns and lock-ups"],type:"u64"},{name:"coin_creator",type:"pubkey"}]}},{name:"SellEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"base_amount_in",type:"u64"},{name:"min_quote_amount_out",type:"u64"},{name:"user_base_token_reserves",type:"u64"},{name:"user_quote_token_reserves",type:"u64"},{name:"pool_base_token_reserves",type:"u64"},{name:"pool_quote_token_reserves",type:"u64"},{name:"quote_amount_out",type:"u64"},{name:"lp_fee_basis_points",type:"u64"},{name:"lp_fee",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee",type:"u64"},{name:"quote_amount_out_without_lp_fee",type:"u64"},{name:"user_quote_amount_out",type:"u64"},{name:"pool",type:"pubkey"},{name:"user",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"protocol_fee_recipient",type:"pubkey"},{name:"protocol_fee_recipient_token_account",type:"pubkey"},{name:"coin_creator",type:"pubkey"},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"coin_creator_fee",type:"u64"}]}},{name:"SetBondingCurveCoinCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"base_mint",type:"pubkey"},{name:"pool",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"coin_creator",type:"pubkey"}]}},{name:"SetMetaplexCoinCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"base_mint",type:"pubkey"},{name:"pool",type:"pubkey"},{name:"metadata",type:"pubkey"},{name:"coin_creator",type:"pubkey"}]}},{name:"UpdateAdminEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin",type:"pubkey"},{name:"new_admin",type:"pubkey"}]}},{name:"UpdateFeeConfigEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin",type:"pubkey"},{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee_recipients",type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"}]}},{name:"WithdrawEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"lp_token_amount_in",type:"u64"},{name:"min_base_amount_out",type:"u64"},{name:"min_quote_amount_out",type:"u64"},{name:"user_base_token_reserves",type:"u64"},{name:"user_quote_token_reserves",type:"u64"},{name:"pool_base_token_reserves",type:"u64"},{name:"pool_quote_token_reserves",type:"u64"},{name:"base_amount_out",type:"u64"},{name:"quote_amount_out",type:"u64"},{name:"lp_mint_supply",type:"u64"},{name:"pool",type:"pubkey"},{name:"user",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"user_pool_token_account",type:"pubkey"}]}}]};function B(e,t){if(t.isZero())throw Error("Cannot divide by zero.");return e.add(t.subn(1)).div(t)}function C(e,t){return B(e.mul(t),new(r())(1e4))}function E(e,t,n,a,i,s,u,c){if(n.isZero()||a.isZero())throw Error("Invalid input: 'baseReserve' or 'quoteReserve' cannot be zero.");if(e.gt(n))throw Error("Cannot buy more base tokens than the pool reserves.");let l=a.mul(e),m=n.sub(e);if(m.isZero())throw Error("Pool would be depleted; denominator is zero.");let p=B(l,m),d=C(p,i),_=C(p,s),y=o.PublicKey.default.equals(c)?new(r())(0):C(p,u),f=p.add(d).add(_).add(y),h=new(r())(1e9),b=new(r())(Math.floor((1+t/100)*1e9)),g=f.mul(b).div(h);return{internalQuoteAmount:p,uiQuote:f,maxQuote:g}}function S(e,t,n,a,i,s,u,c){if(n.isZero()||a.isZero())throw Error("Invalid input: 'baseReserve' or 'quoteReserve' cannot be zero.");let l=i.add(s).add(o.PublicKey.default.equals(c)?new(r())(0):u),m=new(r())(1e4).add(l),p=e.mul(new(r())(1e4)).div(m),d=n.mul(p),_=a.add(p);if(_.isZero())throw Error("Pool would be depleted; denominator is zero.");let y=d.div(_),f=new(r())(1e9),h=new(r())(Math.floor((1+t/100)*1e9));return{base:y,internalQuoteWithoutFees:p,maxQuote:e.mul(h).div(f)}}function T(e,t,n,a,i,s,u,c){if(n.isZero()||a.isZero())throw Error("Invalid input: 'baseReserve' or 'quoteReserve' cannot be zero.");let l=a.mul(e).div(n.add(e)),m=C(l,i),p=C(l,s),d=o.PublicKey.default.equals(c)?new(r())(0):C(l,u),_=l.sub(m).sub(p).sub(d);if(_.isNeg())throw Error("Fees exceed total output; final quote is negative.");let y=new(r())(1e9),f=new(r())(Math.floor((1-t/100)*1e9)),h=_.mul(f).div(y);return{uiQuote:_,minQuote:h,internalQuoteAmountOut:l}}var M=new(r())(1e4),x=class{constructor(e,t=k){this.connection=e,this.program=function(e,t=k){let n={...I};return n.address=t,new b.Program(n,new b.AnchorProvider(e,null,{}))}(e,t),this.globalConfig=function(e=v){return o.PublicKey.findProgramAddressSync([g.from("global_config")],e)}(this.program.programId)[0]}coder(){return this.program.coder}programId(){return this.program.programId}globalConfigKey(){return this.globalConfig}poolKey(e,t,n,o){return w(e,t,n,o,this.program.programId)}lpMintKey(e){return function(e,t=v){return o.PublicKey.findProgramAddressSync([g.from("pool_lp_mint"),e.toBuffer()],t)}(e,this.program.programId)}fetchGlobalConfigAccount(){return this.program.account.globalConfig.fetch(this.globalConfig)}fetchPool(e){return this.program.account.pool.fetch(e)}async createPoolInstructionsInternal(e,t,n,a,r,u,c,l){let[m,p]=await this.getMintTokenPrograms(n,a);return void 0===c&&(c=(0,i.MO)(n,t,!0,m)),void 0===l&&(l=(0,i.MO)(a,t,!0,p)),await this.withWsolAccounts(t,n,c,r,a,l,u,async()=>{let[d]=w(e,t,n,a,this.program.programId),_=[],y=(0,i.MO)(n,d,!0,m);await this.accountExists(y)||_.push((0,s.ji)(t,y,d,n,m));let f=(0,i.MO)(a,d,!0,p);return await this.accountExists(f)||_.push((0,s.ji)(t,f,d,a,p)),_.push(await this.program.methods.createPool(e,r,u,o.SystemProgram.programId).accountsPartial({globalConfig:this.globalConfig,baseMint:n,quoteMint:a,creator:t,userBaseTokenAccount:c,userQuoteTokenAccount:l,baseTokenProgram:m,quoteTokenProgram:p}).instruction()),_})}async depositInstructionsInternal(e,t,n,o,a,r,i,c){let l=await this.connection.getAccountInfo(e),m=this.program.coder.accounts.decode("pool",l.data),{baseMint:p,quoteMint:d,lpMint:_}=m,[y,f]=await this.getMintTokenPrograms(p,d),h=await this.liquidityAccounts(e,m,y,f,a,r,i,c);return await this.withFixPoolInstructions(e,l,a,async()=>await this.withWsolAccounts(a,p,h.userBaseTokenAccount,n,d,h.userQuoteTokenAccount,o,async()=>{let e=[];return await this.accountExists(h.userPoolTokenAccount)||e.push((0,s.ji)(a,h.userPoolTokenAccount,a,_,u.nA)),e.push(await this.program.methods.deposit(t,n,o).accountsPartial(h).instruction()),e}))}async withWsolAccounts(e,t,n,o,a,r,i,s){return await this.withWsolAccount(e,e,t,n,o,()=>this.withWsolAccount(e,e,a,r,i,s))}async withWsolAccount(e,t,n,a,r,i,c=!0){let d=[];return n.equals(u.Gd)&&(await this.accountExists(a)||d.push((0,s.ji)(e,a,t,u.Gd)),r.gtn(0)&&d.push(o.SystemProgram.transfer({fromPubkey:t,toPubkey:a,lamports:BigInt(r.toString())}),function(e,t=u.H_){let n=m.alloc(p.span);return p.encode({instruction:l.c.SyncNative},n),new o.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!0}],programId:t,data:n})}(a))),d.push(...await i()),n.equals(u.Gd)&&c&&d.push(f(a,t,t,void 0,u.H_)),d}async accountExists(e){let t=await this.connection.getAccountInfo(e);return null!==t&&!t.owner.equals(o.SystemProgram.programId)}async depositBaseInputInternal(e,t,n){let{fetchedPool:o,poolBaseAmount:a,poolQuoteAmount:r}=await this.getPoolBaseAndQuoteAmounts(e),{token1:i,lpToken:s,maxToken0:u,maxToken1:c}=A(t,n,a,r,o.lpSupply);return{quote:i,lpToken:s,maxBase:u,maxQuote:c}}async depositQuoteInputInternal(e,t,n){let{fetchedPool:o,poolBaseAmount:a,poolQuoteAmount:r}=await this.getPoolBaseAndQuoteAmounts(e),{token1:i,lpToken:s,maxToken0:u,maxToken1:c}=A(t,n,r,a,o.lpSupply);return{base:i,lpToken:s,maxBase:c,maxQuote:u}}async withdrawInstructionsInternal(e,t,n,o,a,r,i,c){let l=await this.connection.getAccountInfo(e),m=this.program.coder.accounts.decode("pool",l.data),{baseMint:p,quoteMint:d}=m,[_,y]=await this.getMintTokenPrograms(p,d),h=await this.liquidityAccounts(e,m,_,y,a,r,i,c);return await this.withFixPoolInstructions(e,l,a,async()=>{let e=[],r=!1;!await this.accountExists(h.userBaseTokenAccount)&&(e.push((0,s.ji)(a,h.userBaseTokenAccount,a,h.baseMint,_)),p.equals(u.Gd)&&(r=!0));let i=!1;return!await this.accountExists(h.userQuoteTokenAccount)&&(e.push((0,s.ji)(a,h.userQuoteTokenAccount,a,h.quoteMint,y)),d.equals(u.Gd)&&(i=!0)),e.push(await this.program.methods.withdraw(t,n,o).accountsPartial(h).instruction()),r&&e.push(f(h.userBaseTokenAccount,a,a,void 0,u.H_)),i&&e.push(f(h.userQuoteTokenAccount,a,a,void 0,u.H_)),e})}async withdrawInputsInternal(e,t,n){let{fetchedPool:o,poolBaseAmount:a,poolQuoteAmount:i}=await this.getPoolBaseAndQuoteAmounts(e);return function(e,t,n,o,a){if(e.isZero()||a.isZero())throw Error("LP amount or total LP tokens cannot be zero.");let i=n.mul(e).div(a),s=o.mul(e).div(a),u=new(r())(1e9),c=new(r())((1-t/100)*1e9),l=i.mul(c).div(u),m=s.mul(c).div(u);return{base:i,quote:s,minBase:l,minQuote:m}}(t,n,a,i,o.lpSupply)}async getPoolBaseAndQuoteAmounts(e){let t=await this.fetchPool(e),[n,o]=await this.getMintTokenPrograms(t.baseMint,t.quoteMint),a=await (0,h.D0)(this.connection,t.poolBaseTokenAccount,void 0,n),i=await (0,h.D0)(this.connection,t.poolQuoteTokenAccount,void 0,o);return{fetchedPool:t,poolBaseAmount:new(r())(a.amount.toString()),poolQuoteAmount:new(r())(i.amount.toString())}}async liquidityAccounts(e,{baseMint:t,quoteMint:n,lpMint:o,poolBaseTokenAccount:a,poolQuoteTokenAccount:r},s,c,l,m,p,d){return void 0===m&&(m=(0,i.MO)(t,l,!0,s)),void 0===p&&(p=(0,i.MO)(n,l,!0,c)),void 0===d&&(d=(0,i.MO)(o,l,!0,u.nA)),{pool:e,globalConfig:this.globalConfig,user:l,baseMint:t,quoteMint:n,lpMint:o,userBaseTokenAccount:m,userQuoteTokenAccount:p,userPoolTokenAccount:d,poolBaseTokenAccount:a,poolQuoteTokenAccount:r}}async buyInstructionsInternal(e,t,n,o,a,r,i){let s=await this.connection.getAccountInfo(e),{index:u,creator:c,baseMint:l,quoteMint:m,coinCreator:p}=this.program.coder.accounts.decode("pool",s.data);return await this.withFixPoolInstructions(e,s,o,async()=>await this.buyInstructionsInternalNoPool(u,c,l,m,t,n,o,p,a,r,i))}async buyInstructionsInternalNoPool(e,t,n,o,a,r,i,c,l,m,p){let[d]=this.poolKey(e,t,n,o),_=await this.swapAccounts(d,n,o,i,c,l,m,p);return this.withWsolAccount(i,i,o,_.userQuoteTokenAccount,r,async()=>{let e=[],t=!1;return!await this.accountExists(_.userBaseTokenAccount)&&(e.push((0,s.ji)(i,_.userBaseTokenAccount,i,_.baseMint,_.baseTokenProgram)),n.equals(u.Gd)&&(t=!0)),e.push(await this.program.methods.buy(a,r).accountsPartial(_).instruction()),t&&e.push(f(_.userBaseTokenAccount,i,i,void 0,u.H_)),e})}async buyBaseInput(e,t,n,o,a,r,i){let{maxQuote:s}=await this.buyBaseInputInternal(e,t,n);return this.buyInstructionsInternal(e,t,s,o,a,r,i)}async buyQuoteInput(e,t,n,o,a,r,i){let{base:s,maxQuote:u}=await this.buyQuoteInputInternal(e,t,n);return this.buyInstructionsInternal(e,s,u,o,a,r,i)}async buyAutocompleteQuoteFromBase(e,t,n){let{uiQuote:o}=await this.buyBaseInputInternal(e,t,n);return o}async buyAutocompleteBaseFromQuote(e,t,n){let{base:o}=await this.buyQuoteInputInternal(e,t,n);return o}async buyBaseInputInternal(e,t,n){let{fetchedPool:o,poolBaseAmount:a,poolQuoteAmount:r}=await this.getPoolBaseAndQuoteAmounts(e),i=await this.fetchGlobalConfigAccount();return E(t,n,a,r,i.lpFeeBasisPoints,i.protocolFeeBasisPoints,i.coinCreatorFeeBasisPoints,o.coinCreator)}async buyQuoteInputInternal(e,t,n){let{fetchedPool:o,poolBaseAmount:a,poolQuoteAmount:r}=await this.getPoolBaseAndQuoteAmounts(e);return this.buyQuoteInputInternalNoPool(t,n,a,r,o.coinCreator)}async buyQuoteInputInternalNoPool(e,t,n,o,a){let r=await this.fetchGlobalConfigAccount();return S(e,t,n,o,r.lpFeeBasisPoints,r.protocolFeeBasisPoints,r.coinCreatorFeeBasisPoints,a)}async sellInstructionsInternal(e,t,n,o,a,r,i){let s=await this.connection.getAccountInfo(e),{index:u,creator:c,baseMint:l,quoteMint:m,coinCreator:p}=this.program.coder.accounts.decode("pool",s.data);return await this.withFixPoolInstructions(e,s,o,async()=>await this.sellInstructionsInternalNoPool(u,c,l,m,t,n,o,p,a,r,i))}async fixPoolInstructions(e,t){let n=await this.connection.getAccountInfo(e);return await this.withFixPoolInstructions(e,n,t,async()=>[])}async withFixPoolInstructions(e,t,n,o){let a=[];return(null===t||t.data.length<300)&&a.push(await this.program.methods.extendAccount().accountsPartial({account:e,user:n}).instruction()),[...a,...await o()]}async sellInstructionsInternalNoPool(e,t,n,o,a,r,i,c,l,m,p){let[d]=this.poolKey(e,t,n,o),_=await this.swapAccounts(d,n,o,i,c,l,m,p);return this.withWsolAccount(i,i,n,_.userBaseTokenAccount,a,async()=>{let e=[],t=!1;return!await this.accountExists(_.userQuoteTokenAccount)&&(e.push((0,s.ji)(i,_.userQuoteTokenAccount,i,_.quoteMint,_.quoteTokenProgram)),o.equals(u.Gd)&&(t=!0)),e.push(await this.program.methods.sell(a,r).accountsPartial(_).instruction()),t&&e.push(f(_.userQuoteTokenAccount,i,i,void 0,u.H_)),e})}async sellBaseInput(e,t,n,o,a,r,i){let{minQuote:s}=await this.sellBaseInputInternal(e,t,n);return this.sellInstructionsInternal(e,t,s,o,a,r,i)}async sellQuoteInput(e,t,n,o,a,r,i){let{base:s,minQuote:u}=await this.sellQuoteInputInternal(e,t,n);return this.sellInstructionsInternal(e,s,u,o,a,r,i)}async sellAutocompleteQuoteFromBase(e,t,n){let{uiQuote:o}=await this.sellBaseInputInternal(e,t,n);return o}async sellAutocompleteBaseFromQuote(e,t,n){let{base:o}=await this.sellQuoteInputInternal(e,t,n);return o}async sellBaseInputInternal(e,t,n){let{fetchedPool:o,poolBaseAmount:a,poolQuoteAmount:r}=await this.getPoolBaseAndQuoteAmounts(e);return this.sellBaseInputInternalNoPool(t,n,a,r,o.coinCreator)}async sellBaseInputInternalNoPool(e,t,n,o,a){let r=await this.fetchGlobalConfigAccount();return T(e,t,n,o,r.lpFeeBasisPoints,r.protocolFeeBasisPoints,r.coinCreatorFeeBasisPoints,a)}async sellQuoteInputInternal(e,t,n){let{fetchedPool:a,poolBaseAmount:i,poolQuoteAmount:s}=await this.getPoolBaseAndQuoteAmounts(e),u=await this.fetchGlobalConfigAccount();return function(e,t,n,a,i,s,u,c){if(n.isZero()||a.isZero())throw Error("Invalid input: 'baseReserve' or 'quoteReserve' cannot be zero.");if(e.gt(a))throw Error("Cannot receive more quote tokens than the pool quote reserves.");let l=function(e,t,n,o){let a=t.add(n).add(o),r=M.sub(a);return B(e.mul(M),r)}(e,i,s,o.PublicKey.default.equals(c)?new(r())(0):u);if(l.gte(a))throw Error("Invalid input: Desired quote amount exceeds available reserve.");let m=B(n.mul(l),a.sub(l)),p=new(r())(1e9),d=new(r())(Math.floor((1-t/100)*1e9));return{internalRawQuote:l,base:m,minQuote:e.mul(d).div(p)}}(t,n,i,s,u.lpFeeBasisPoints,u.protocolFeeBasisPoints,u.coinCreatorFeeBasisPoints,a.coinCreator)}async extendAccount(e,t){return this.program.methods.extendAccount().accountsPartial({account:e,user:t}).instruction()}async collectCoinCreatorFee(e,t){let n=u.Gd,o=u.H_,a=this.coinCreatorVaultAuthorityPda(e);return await this.withWsolAccount(e,a,n,this.coinCreatorVaultAta(a,n,o),new(r())(0),async()=>(void 0===t&&(t=(0,i.MO)(n,e,!0,o)),await this.withWsolAccount(e,e,n,t,new(r())(0),async()=>[await this.program.methods.collectCoinCreatorFee().accountsPartial({coinCreator:e,coinCreatorTokenAccount:t,quoteMint:n,quoteTokenProgram:o}).instruction()])),!1)}async getCoinCreatorVaultBalance(e){let t=u.Gd,n=u.H_,o=this.coinCreatorVaultAuthorityPda(e),a=this.coinCreatorVaultAta(o,t,n);try{let e=await (0,h.D0)(this.connection,a,void 0,n);return new(r())(e.amount.toString())}catch(e){return console.error(`Error fetching token account ${a}:`,e),new(r())(0)}}async setCoinCreator(e){return this.program.methods.setCoinCreator().accountsPartial({pool:e}).instruction()}async swapAccounts(e,t,n,o,a,r,s,u){if(void 0===r){let{protocolFeeRecipients:e}=await this.fetchGlobalConfigAccount();r=e[Math.floor(Math.random()*e.length)]}let[c,l]=await this.getMintTokenPrograms(t,n);void 0===s&&(s=(0,i.MO)(t,o,!0,c)),void 0===u&&(u=(0,i.MO)(n,o,!0,l));let m=this.coinCreatorVaultAuthorityPda(a);return{pool:e,globalConfig:this.globalConfig,user:o,baseMint:t,quoteMint:n,userBaseTokenAccount:s,userQuoteTokenAccount:u,poolBaseTokenAccount:(0,i.MO)(t,e,!0,c),poolQuoteTokenAccount:(0,i.MO)(n,e,!0,l),protocolFeeRecipient:r,baseTokenProgram:c,quoteTokenProgram:l,coinCreatorVaultAta:this.coinCreatorVaultAta(m,n,l),coinCreatorVaultAuthority:m}}coinCreatorVaultAuthorityPda(e){let[t]=o.PublicKey.findProgramAddressSync([g.from("creator_vault"),e.toBuffer()],this.programId());return t}coinCreatorVaultAta(e,t,n){return(0,i.MO)(t,e,!0,n)}async getMintTokenPrograms(e,t){let n=await this.connection.getAccountInfo(e);if(null===n)throw Error(`baseMint=${e} not found`);let o=await this.connection.getAccountInfo(t);if(null===o)throw Error(`quoteMint=${t} not found`);return[n.owner,o.owner]}},q=class{constructor(e,t=k){this.pumpAmmInternalSdk=new x(e,t)}coder(){return this.pumpAmmInternalSdk.coder()}programId(){return this.pumpAmmInternalSdk.programId()}globalConfigKey(){return this.pumpAmmInternalSdk.globalConfigKey()}poolKey(e,t,n,o){return this.pumpAmmInternalSdk.poolKey(e,t,n,o)}lpMintKey(e){return this.pumpAmmInternalSdk.lpMintKey(e)}fetchGlobalConfigAccount(){return this.pumpAmmInternalSdk.fetchGlobalConfigAccount()}fetchPool(e){return this.pumpAmmInternalSdk.fetchPool(e)}async createPoolInstructions(e,t,n,o,a,r,i,s){return this.pumpAmmInternalSdk.createPoolInstructionsInternal(e,t,n,o,a,r,i,s)}async createAutocompleteInitialPoolPrice(e,t){return t.div(e)}async depositInstructions(e,t,n,o,a,i,s){let{fetchedPool:u,poolBaseAmount:c,poolQuoteAmount:l}=await this.pumpAmmInternalSdk.getPoolBaseAndQuoteAmounts(e),{maxBase:m,maxQuote:p}=function(e,t,n,o,a){if(a.isZero())throw Error("Division by zero: totalLpTokens cannot be zero");let i=P(n.mul(e),a),s=P(o.mul(e),a),u=new(r())((1+t/100)*1e9),c=new(r())(1e9);return{maxBase:i.mul(u).div(c),maxQuote:s.mul(u).div(c)}}(t,n,c,l,u.lpSupply);return this.pumpAmmInternalSdk.depositInstructionsInternal(e,t,m,p,o,a,i,s)}async depositAutocompleteQuoteAndLpTokenFromBase(e,t,n){let{quote:o,lpToken:a}=await this.pumpAmmInternalSdk.depositBaseInputInternal(e,t,n);return{quote:o,lpToken:a}}async depositAutocompleteBaseAndLpTokenFromQuote(e,t,n){let{base:o,lpToken:a}=await this.pumpAmmInternalSdk.depositQuoteInputInternal(e,t,n);return{base:o,lpToken:a}}async withdrawInstructions(e,t,n,o,a,r,i){let{minBase:s,minQuote:u}=await this.pumpAmmInternalSdk.withdrawInputsInternal(e,t,n);return this.pumpAmmInternalSdk.withdrawInstructionsInternal(e,t,s,u,o,a,r,i)}async withdrawAutoCompleteBaseAndQuoteFromLpToken(e,t,n){let{base:o,quote:a}=await this.pumpAmmInternalSdk.withdrawInputsInternal(e,t,n);return{base:o,quote:a}}async swapBaseInstructions(e,t,n,o,a,r,i,s){return"quoteToBase"==o?await this.pumpAmmInternalSdk.buyBaseInput(e,t,n,a,r,i,s):await this.pumpAmmInternalSdk.sellBaseInput(e,t,n,a,r,i,s)}async swapQuoteInstructions(e,t,n,o,a,r,i,s){return"quoteToBase"==o?await this.pumpAmmInternalSdk.buyQuoteInput(e,t,n,a,r,i,s):await this.pumpAmmInternalSdk.sellQuoteInput(e,t,n,a,r,i,s)}async swapAutocompleteQuoteFromBase(e,t,n,o){return"quoteToBase"==o?await this.pumpAmmInternalSdk.buyAutocompleteQuoteFromBase(e,t,n):await this.pumpAmmInternalSdk.sellAutocompleteQuoteFromBase(e,t,n)}async swapAutocompleteBaseFromQuote(e,t,n,o){return"quoteToBase"==o?await this.pumpAmmInternalSdk.buyAutocompleteBaseFromQuote(e,t,n):await this.pumpAmmInternalSdk.sellAutocompleteBaseFromQuote(e,t,n)}async extendAccount(e,t){return this.pumpAmmInternalSdk.extendAccount(e,t)}async collectCoinCreatorFee(e,t){return this.pumpAmmInternalSdk.collectCoinCreatorFee(e,t)}async getCoinCreatorVaultBalance(e){return this.pumpAmmInternalSdk.getCoinCreatorVaultBalance(e)}coinCreatorVaultAuthorityPda(e){return this.pumpAmmInternalSdk.coinCreatorVaultAuthorityPda(e)}coinCreatorVaultAta(e,t,n){return this.pumpAmmInternalSdk.coinCreatorVaultAta(e,t,n)}async setCoinCreator(e){return this.pumpAmmInternalSdk.setCoinCreator(e)}}},23722:function(e,t,n){var o=n(87376).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.toBigIntLE=function(e){{let t=o.from(e);t.reverse();let n=t.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}},t.toBigIntBE=function(e){{let t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},t.toBufferLE=function(e,t){{let n=e.toString(16),a=o.from(n.padStart(2*t,"0").slice(0,2*t),"hex");return a.reverse(),a}},t.toBufferBE=function(e,t){{let n=e.toString(16);return o.from(n.padStart(2*t,"0").slice(0,2*t),"hex")}}},7397:function(e,t,n){n.d(t,{Xg:function(){return l},ZL:function(){return p},AW:function(){return c}});var o=n(91214),a=n(23722);let r=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var i=n(87376).Buffer;let s=e=>t=>{let n=(0,o.blob)(e,t),{encode:s,decode:u}=r(n);return n.decode=(e,t)=>{let n=u(e,t);return(0,a.toBigIntLE)(i.from(n))},n.encode=(t,n,o)=>s((0,a.toBufferLE)(t,e),n,o),n},u=e=>t=>{let n=(0,o.blob)(e,t),{encode:s,decode:u}=r(n);return n.decode=(e,t)=>{let n=u(e,t);return(0,a.toBigIntBE)(i.from(n))},n.encode=(t,n,o)=>s((0,a.toBufferBE)(t,e),n,o),n},c=s(8);u(8),s(16),u(16),s(24),u(24),s(32),u(32),new(n(89108)).Z("1e+18");let l=e=>{let t=(0,o.u8)(e),{encode:n,decode:a}=r(t);return t.decode=(e,t)=>!!a(e,t),t.encode=(e,t,o)=>n(Number(e),t,o),t};var m=n(55041);let p=e=>{let t=(0,o.blob)(32,e),{encode:n,decode:a}=r(t);return t.decode=(e,t)=>{let n=a(e,t);return new m.PublicKey(n)},t.encode=(e,t,o)=>n(e.toBuffer(),t,o),t}},93372:function(e,t,n){n.d(t,{Gd:function(){return s},H_:function(){return a},_u:function(){return i},nA:function(){return r}});var o=n(55041);let a=new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r=new o.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),i=new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),s=new o.PublicKey("So11111111111111111111111111111111111111112");new o.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP")},16489:function(e,t,n){n.d(t,{$O:function(){return s},Gl:function(){return u},Or:function(){return i},We:function(){return a},iK:function(){return r}});class o extends Error{constructor(e){super(e)}}class a extends o{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class r extends o{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class i extends o{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class s extends o{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class u extends o{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}},27720:function(e,t,n){n.d(t,{ji:function(){return i}});var o=n(55041),a=n(93372),r=n(87376).Buffer;function i(e,t,n,i,s=a.H_,u=a._u){return function(e,t,n,r,i,s=a.H_,u=a._u){let c=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new o.TransactionInstruction({keys:c,programId:u,data:i})}(e,t,n,i,r.from([1]),s,u)}},14272:function(e,t,n){n.d(t,{s:function(){return a}});var o=n(55041);function a(e,t,n){if(n.length)for(let a of(e.push({pubkey:t,isSigner:!1,isWritable:!1}),n))e.push({pubkey:a instanceof o.PublicKey?a:a.publicKey,isSigner:!0,isWritable:!1});else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}},75379:function(e,t,n){var o,a;n.d(t,{c:function(){return o}}),(a=o||(o={}))[a.InitializeMint=0]="InitializeMint",a[a.InitializeAccount=1]="InitializeAccount",a[a.InitializeMultisig=2]="InitializeMultisig",a[a.Transfer=3]="Transfer",a[a.Approve=4]="Approve",a[a.Revoke=5]="Revoke",a[a.SetAuthority=6]="SetAuthority",a[a.MintTo=7]="MintTo",a[a.Burn=8]="Burn",a[a.CloseAccount=9]="CloseAccount",a[a.FreezeAccount=10]="FreezeAccount",a[a.ThawAccount=11]="ThawAccount",a[a.TransferChecked=12]="TransferChecked",a[a.ApproveChecked=13]="ApproveChecked",a[a.MintToChecked=14]="MintToChecked",a[a.BurnChecked=15]="BurnChecked",a[a.InitializeAccount2=16]="InitializeAccount2",a[a.SyncNative=17]="SyncNative",a[a.InitializeAccount3=18]="InitializeAccount3",a[a.InitializeMultisig2=19]="InitializeMultisig2",a[a.InitializeMint2=20]="InitializeMint2",a[a.GetAccountDataSize=21]="GetAccountDataSize",a[a.InitializeImmutableOwner=22]="InitializeImmutableOwner",a[a.AmountToUiAmount=23]="AmountToUiAmount",a[a.UiAmountToAmount=24]="UiAmountToAmount",a[a.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",a[a.TransferFeeExtension=26]="TransferFeeExtension",a[a.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",a[a.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",a[a.Reallocate=29]="Reallocate",a[a.MemoTransferExtension=30]="MemoTransferExtension",a[a.CreateNativeMint=31]="CreateNativeMint",a[a.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",a[a.InterestBearingMintExtension=33]="InterestBearingMintExtension",a[a.CpiGuardExtension=34]="CpiGuardExtension",a[a.InitializePermanentDelegate=35]="InitializePermanentDelegate",a[a.TransferHookExtension=36]="TransferHookExtension",a[a.MetadataPointerExtension=39]="MetadataPointerExtension",a[a.GroupPointerExtension=40]="GroupPointerExtension",a[a.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",a[a.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",a[a.PausableExtension=44]="PausableExtension"},74754:function(e,t,n){n.d(t,{p0:function(){return d},D0:function(){return y}});var o,a,r,i,s=n(91214),u=n(7397),c=n(93372),l=n(16489);(o=r||(r={}))[o.Uninitialized=0]="Uninitialized",o[o.Mint=1]="Mint",o[o.Account=2]="Account";let m=(0,s.struct)([(0,s.u8)("m"),(0,s.u8)("n"),(0,u.Xg)("isInitialized"),(0,u.ZL)("signer1"),(0,u.ZL)("signer2"),(0,u.ZL)("signer3"),(0,u.ZL)("signer4"),(0,u.ZL)("signer5"),(0,u.ZL)("signer6"),(0,u.ZL)("signer7"),(0,u.ZL)("signer8"),(0,u.ZL)("signer9"),(0,u.ZL)("signer10"),(0,u.ZL)("signer11")]).span;var p=n(87376).Buffer;(a=i||(i={}))[a.Uninitialized=0]="Uninitialized",a[a.Initialized=1]="Initialized",a[a.Frozen=2]="Frozen";let d=(0,s.struct)([(0,u.ZL)("mint"),(0,u.ZL)("owner"),(0,u.AW)("amount"),(0,s.u32)("delegateOption"),(0,u.ZL)("delegate"),(0,s.u8)("state"),(0,s.u32)("isNativeOption"),(0,u.AW)("isNative"),(0,u.AW)("delegatedAmount"),(0,s.u32)("closeAuthorityOption"),(0,u.ZL)("closeAuthority")]),_=d.span;async function y(e,t,n,o=c.H_){let a=await e.getAccountInfo(t,n);return function(e,t,n=c.H_){if(!t)throw new l.We;if(!t.owner.equals(n))throw new l.Or;if(t.data.length<_)throw new l.$O;let o=d.decode(t.data.slice(0,_)),a=p.alloc(0);if(t.data.length>_){if(t.data.length===m)throw new l.$O;if(t.data[_]!=r.Account)throw new l.iK;a=t.data.slice(_+1)}return{address:e,mint:o.mint,owner:o.owner,amount:o.amount,delegate:o.delegateOption?o.delegate:null,delegatedAmount:o.delegatedAmount,isInitialized:o.state!==i.Uninitialized,isFrozen:o.state===i.Frozen,isNative:!!o.isNativeOption,rentExemptReserve:o.isNativeOption?o.isNative:null,closeAuthority:o.closeAuthorityOption?o.closeAuthority:null,tlvData:a}}(t,a,o)}},18119:function(e,t,n){n.d(t,{Am:function(){return u},MO:function(){return c}});var o=n(91214),a=n(7397),r=n(55041),i=n(93372),s=n(16489);async function u(e,t,n=!1,o=i.H_,a=i._u){if(!n&&!r.PublicKey.isOnCurve(t.toBuffer()))throw new s.Gl;let[u]=await r.PublicKey.findProgramAddress([t.toBuffer(),o.toBuffer(),e.toBuffer()],a);return u}function c(e,t,n=!1,o=i.H_,a=i._u){if(!n&&!r.PublicKey.isOnCurve(t.toBuffer()))throw new s.Gl;let[u]=r.PublicKey.findProgramAddressSync([t.toBuffer(),o.toBuffer(),e.toBuffer()],a);return u}n(87376).Buffer,(0,o.struct)([(0,o.u32)("mintAuthorityOption"),(0,a.ZL)("mintAuthority"),(0,a.AW)("supply"),(0,o.u8)("decimals"),(0,a.Xg)("isInitialized"),(0,o.u32)("freezeAuthorityOption"),(0,a.ZL)("freezeAuthority")]).span},89108:function(e,t,n){var o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,r=Math.floor,i="[BigNumber Error] ",s=i+"Number primitive has more than 15 significant digits: ",u=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function c(e){var t=0|e;return e>0||e===t?t:t-1}function l(e){for(var t,n,o=1,a=e.length,r=e[0]+"";o<a;){for(n=14-(t=e[o++]+"").length;n--;t="0"+t);r+=t}for(a=r.length;48===r.charCodeAt(--a););return r.slice(0,a+1||1)}function m(e,t){var n,o,a=e.c,r=t.c,i=e.s,s=t.s,u=e.e,c=t.e;if(!i||!s)return null;if(n=a&&!a[0],o=r&&!r[0],n||o)return n?o?0:-s:i;if(i!=s)return i;if(n=i<0,o=u==c,!a||!r)return o?0:!a^n?1:-1;if(!o)return u>c^n?1:-1;for(i=0,s=(u=a.length)<(c=r.length)?u:c;i<s;i++)if(a[i]!=r[i])return a[i]>r[i]^n?1:-1;return u==c?0:u>c^n?1:-1}function p(e,t,n,o){if(e<t||e>n||e!==r(e))throw Error(i+(o||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function d(e){var t=e.c.length-1;return c(e.e/14)==t&&e.c[t]%2!=0}function _(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function y(e,t,n){var o,a;if(t<0){for(a=n+".";++t;a+=n);e=a+e}else if(o=e.length,++t>o){for(a=n,t-=o;--t;a+=n);e+=a}else t<o&&(e=e.slice(0,t)+"."+e.slice(t));return e}var f=function e(t){var n,f,h,b,g,k,v,w,A,P=z.prototype={constructor:z,toString:null,valueOf:null},I=new z(1),B=20,C=4,E=-7,S=21,T=-1e7,M=1e7,x=!1,q=1,N=0,O={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},F="0123456789abcdefghijklmnopqrstuvwxyz",R=!0;function z(e,t){var n,a,i,u,c,l,m,d,_=this;if(!(_ instanceof z))return new z(e,t);if(null==t){if(e&&!0===e._isBigNumber){_.s=e.s,!e.c||e.e>M?_.c=_.e=null:e.e<T?_.c=[_.e=0]:(_.e=e.e,_.c=e.c.slice());return}if((l="number"==typeof e)&&0*e==0){if(_.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,c=e;c>=10;c/=10,u++);u>M?_.c=_.e=null:(_.e=u,_.c=[e]);return}d=String(e)}else{if(!o.test(d=String(e)))return A(_,d,l);_.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(u=d.indexOf("."))>-1&&(d=d.replace(".","")),(c=d.search(/e/i))>0?(u<0&&(u=c),u+=+d.slice(c+1),d=d.substring(0,c)):u<0&&(u=d.length)}else{if(p(t,2,F.length,"Base"),10==t&&R)return Q(_=new z(e),B+_.e+1,C);if(d=String(e),l="number"==typeof e){if(0*e!=0)return A(_,d,l,t);if(_.s=1/e<0?(d=d.slice(1),-1):1,z.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(s+e)}else _.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=F.slice(0,t),u=c=0,m=d.length;c<m;c++)if(0>n.indexOf(a=d.charAt(c))){if("."==a){if(c>u){u=m;continue}}else if(!i&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){i=!0,c=-1,u=0;continue}return A(_,String(e),l,t)}l=!1,(u=(d=w(d,t,10,_.s)).indexOf("."))>-1?d=d.replace(".",""):u=d.length}for(c=0;48===d.charCodeAt(c);c++);for(m=d.length;48===d.charCodeAt(--m););if(d=d.slice(c,++m)){if(m-=c,l&&z.DEBUG&&m>15&&(e>9007199254740991||e!==r(e)))throw Error(s+_.s*e);if((u=u-c-1)>M)_.c=_.e=null;else if(u<T)_.c=[_.e=0];else{if(_.e=u,_.c=[],c=(u+1)%14,u<0&&(c+=14),c<m){for(c&&_.c.push(+d.slice(0,c)),m-=14;c<m;)_.c.push(+d.slice(c,c+=14));c=14-(d=d.slice(c)).length}else c-=m;for(;c--;d+="0");_.c.push(+d)}}else _.c=[_.e=0]}function G(e,t,n,o){var a,r,i,s,u;if(null==n?n=C:p(n,0,8),!e.c)return e.toString();if(a=e.c[0],i=e.e,null==t)u=l(e.c),u=1==o||2==o&&(i<=E||i>=S)?_(u,i):y(u,i,"0");else if(r=(e=Q(new z(e),t,n)).e,s=(u=l(e.c)).length,1==o||2==o&&(t<=r||r<=E)){for(;s<t;u+="0",s++);u=_(u,r)}else if(t-=i,u=y(u,r,"0"),r+1>s){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=r-s)>0)for(r+1==s&&(u+=".");t--;u+="0");return e.s<0&&a?"-"+u:u}function L(e,t){for(var n,o,a=1,r=new z(e[0]);a<e.length;a++)(o=new z(e[a])).s&&(n=m(r,o))!==t&&(0!==n||r.s!==t)||(r=o);return r}function D(e,t,n){for(var o=1,a=t.length;!t[--a];t.pop());for(a=t[0];a>=10;a/=10,o++);return(n=o+14*n-1)>M?e.c=e.e=null:n<T?e.c=[e.e=0]:(e.e=n,e.c=t),e}function Q(e,t,n,o){var i,s,c,l,m,p,d,_=e.c;if(_){e:{for(i=1,l=_[0];l>=10;l/=10,i++);if((s=t-i)<0)s+=14,c=t,d=r((m=_[p=0])/u[i-c-1]%10);else if((p=a((s+1)/14))>=_.length){if(o){for(;_.length<=p;_.push(0));m=d=0,i=1,s%=14,c=s-14+1}else break e}else{for(i=1,m=l=_[p];l>=10;l/=10,i++);s%=14,d=(c=s-14+i)<0?0:r(m/u[i-c-1]%10)}if(o=o||t<0||null!=_[p+1]||(c<0?m:m%u[i-c-1]),o=n<4?(d||o)&&(0==n||n==(e.s<0?3:2)):d>5||5==d&&(4==n||o||6==n&&(s>0?c>0?m/u[i-c]:0:_[p-1])%10&1||n==(e.s<0?8:7)),t<1||!_[0])return _.length=0,o?(t-=e.e+1,_[0]=u[(14-t%14)%14],e.e=-t||0):_[0]=e.e=0,e;if(0==s?(_.length=p,l=1,p--):(_.length=p+1,l=u[14-s],_[p]=c>0?r(m/u[i-c]%u[c])*l:0),o)for(;;){if(0==p){for(s=1,c=_[0];c>=10;c/=10,s++);for(c=_[0]+=l,l=1;c>=10;c/=10,l++);s!=l&&(e.e++,1e14==_[0]&&(_[0]=1));break}if(_[p]+=l,1e14!=_[p])break;_[p--]=0,l=1}for(s=_.length;0===_[--s];_.pop());}e.e>M?e.c=e.e=null:e.e<T&&(e.c=[e.e=0])}return e}function W(e){var t,n=e.e;return null===n?e.toString():(t=l(e.c),t=n<=E||n>=S?_(t,n):y(t,n,"0"),e.s<0?"-"+t:t)}return z.clone=e,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=function(e){var t,n;if(null!=e){if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(p(n=e[t],0,1e9,t),B=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(p(n=e[t],0,8,t),C=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(p(n[0],-1e9,0,t),p(n[1],0,1e9,t),E=n[0],S=n[1]):(p(n,-1e9,1e9,t),E=-(S=n<0?-n:n))),e.hasOwnProperty(t="RANGE")){if((n=e[t])&&n.pop)p(n[0],-1e9,-1,t),p(n[1],1,1e9,t),T=n[0],M=n[1];else if(p(n,-1e9,1e9,t),n)T=-(M=n<0?-n:n);else throw Error(i+t+" cannot be zero: "+n)}if(e.hasOwnProperty(t="CRYPTO")){if(!!(n=e[t])===n){if(n){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))x=n;else throw x=!n,Error(i+"crypto unavailable")}else x=n}else throw Error(i+t+" not true or false: "+n)}if(e.hasOwnProperty(t="MODULO_MODE")&&(p(n=e[t],0,9,t),q=n),e.hasOwnProperty(t="POW_PRECISION")&&(p(n=e[t],0,1e9,t),N=n),e.hasOwnProperty(t="FORMAT")){if("object"==typeof(n=e[t]))O=n;else throw Error(i+t+" not an object: "+n)}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(i+t+" invalid: "+n);R="0123456789"==n.slice(0,10),F=n}}else throw Error(i+"Object expected: "+e)}return{DECIMAL_PLACES:B,ROUNDING_MODE:C,EXPONENTIAL_AT:[E,S],RANGE:[T,M],CRYPTO:x,MODULO_MODE:q,POW_PRECISION:N,FORMAT:O,ALPHABET:F}},z.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!z.DEBUG)return!0;var t,n,o=e.c,a=e.e,s=e.s;e:if("[object Array]"==({}).toString.call(o)){if((1===s||-1===s)&&a>=-1e9&&a<=1e9&&a===r(a)){if(0===o[0]){if(0===a&&1===o.length)return!0;break e}if((t=(a+1)%14)<1&&(t+=14),String(o[0]).length==t){for(t=0;t<o.length;t++)if((n=o[t])<0||n>=1e14||n!==r(n))break e;if(0!==n)return!0}}}else if(null===o&&null===a&&(null===s||1===s||-1===s))return!0;throw Error(i+"Invalid BigNumber: "+e)},z.maximum=z.max=function(){return L(arguments,-1)},z.minimum=z.min=function(){return L(arguments,1)},z.random=(n=9007199254740992*Math.random()&2097151?function(){return r(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(e){var t,o,s,c,l,m=0,d=[],_=new z(I);if(null==e?e=B:p(e,0,1e9),c=a(e/14),x){if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(c*=2));m<c;)(l=131072*t[m]+(t[m+1]>>>11))>=9e15?(o=crypto.getRandomValues(new Uint32Array(2)),t[m]=o[0],t[m+1]=o[1]):(d.push(l%1e14),m+=2);m=c/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(c*=7);m<c;)(l=(31&t[m])*281474976710656+1099511627776*t[m+1]+4294967296*t[m+2]+16777216*t[m+3]+(t[m+4]<<16)+(t[m+5]<<8)+t[m+6])>=9e15?crypto.randomBytes(7).copy(t,m):(d.push(l%1e14),m+=7);m=c/7}else throw x=!1,Error(i+"crypto unavailable")}if(!x)for(;m<c;)(l=n())<9e15&&(d[m++]=l%1e14);for(c=d[--m],e%=14,c&&e&&(l=u[14-e],d[m]=r(c/l)*l);0===d[m];d.pop(),m--);if(m<0)d=[s=0];else{for(s=-1;0===d[0];d.splice(0,1),s-=14);for(m=1,l=d[0];l>=10;l/=10,m++);m<14&&(s-=14-m)}return _.e=s,_.c=d,_}),z.sum=function(){for(var e=1,t=arguments,n=new z(t[0]);e<t.length;)n=n.plus(t[e++]);return n},w=function(){var e="0123456789";function t(e,t,n,o){for(var a,r,i=[0],s=0,u=e.length;s<u;){for(r=i.length;r--;i[r]*=t);for(i[0]+=o.indexOf(e.charAt(s++)),a=0;a<i.length;a++)i[a]>n-1&&(null==i[a+1]&&(i[a+1]=0),i[a+1]+=i[a]/n|0,i[a]%=n)}return i.reverse()}return function(n,o,a,r,i){var s,u,c,m,p,d,_,f,h=n.indexOf("."),b=B,g=C;for(h>=0&&(m=N,N=0,n=n.replace(".",""),d=(f=new z(o)).pow(n.length-h),N=m,f.c=t(y(l(d.c),d.e,"0"),10,a,e),f.e=f.c.length),c=m=(_=t(n,o,a,i?(s=F,e):(s=e,F))).length;0==_[--m];_.pop());if(!_[0])return s.charAt(0);if(h<0?--c:(d.c=_,d.e=c,d.s=r,_=(d=v(d,f,b,g,a)).c,p=d.r,c=d.e),h=_[u=c+b+1],m=a/2,p=p||u<0||null!=_[u+1],p=g<4?(null!=h||p)&&(0==g||g==(d.s<0?3:2)):h>m||h==m&&(4==g||p||6==g&&1&_[u-1]||g==(d.s<0?8:7)),u<1||!_[0])n=p?y(s.charAt(1),-b,s.charAt(0)):s.charAt(0);else{if(_.length=u,p)for(--a;++_[--u]>a;)_[u]=0,u||(++c,_=[1].concat(_));for(m=_.length;!_[--m];);for(h=0,n="";h<=m;n+=s.charAt(_[h++]));n=y(n,c,s.charAt(0))}return n}}(),v=function(){function e(e,t,n){var o,a,r,i,s=0,u=e.length,c=t%1e7,l=t/1e7|0;for(e=e.slice();u--;)o=l*(r=e[u]%1e7)+(i=e[u]/1e7|0)*c,s=((a=c*r+o%1e7*1e7+s)/n|0)+(o/1e7|0)+l*i,e[u]=a%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,o){var a,r;if(n!=o)r=n>o?1:-1;else for(a=r=0;a<n;a++)if(e[a]!=t[a]){r=e[a]>t[a]?1:-1;break}return r}function n(e,t,n,o){for(var a=0;n--;)e[n]-=a,a=e[n]<t[n]?1:0,e[n]=a*o+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(o,a,i,s,u){var l,m,p,d,_,y,f,h,b,g,k,v,w,A,P,I,B,C=o.s==a.s?1:-1,E=o.c,S=a.c;if(!E||!E[0]||!S||!S[0])return new z(o.s&&a.s&&(E?!S||E[0]!=S[0]:S)?E&&0==E[0]||!S?0*C:C/0:NaN);for(b=(h=new z(C)).c=[],C=i+(m=o.e-a.e)+1,u||(u=1e14,m=c(o.e/14)-c(a.e/14),C=C/14|0),p=0;S[p]==(E[p]||0);p++);if(S[p]>(E[p]||0)&&m--,C<0)b.push(1),d=!0;else{for(A=E.length,I=S.length,p=0,C+=2,(_=r(u/(S[0]+1)))>1&&(S=e(S,_,u),E=e(E,_,u),I=S.length,A=E.length),w=I,k=(g=E.slice(0,I)).length;k<I;g[k++]=0);B=[0].concat(B=S.slice()),P=S[0],S[1]>=u/2&&P++;do{if(_=0,(l=t(S,g,I,k))<0){if(v=g[0],I!=k&&(v=v*u+(g[1]||0)),(_=r(v/P))>1)for(_>=u&&(_=u-1),f=(y=e(S,_,u)).length,k=g.length;1==t(y,g,f,k);)_--,n(y,I<f?B:S,f,u),f=y.length,l=1;else 0==_&&(l=_=1),f=(y=S.slice()).length;if(f<k&&(y=[0].concat(y)),n(g,y,k,u),k=g.length,-1==l)for(;1>t(S,g,I,k);)_++,n(g,I<k?B:S,k,u),k=g.length}else 0===l&&(_++,g=[0]);b[p++]=_,g[0]?g[k++]=E[w]||0:(g=[E[w]],k=1)}while((w++<A||null!=g[0])&&C--);d=null!=g[0],b[0]||b.splice(0,1)}if(1e14==u){for(p=1,C=b[0];C>=10;C/=10,p++);Q(h,i+(h.e=p+14*m-1)+1,s,d)}else h.e=m,h.r=+d;return h}}(),f=/^(-?)0([xbo])(?=\w[\w.]*$)/i,h=/^([^.]+)\.$/,b=/^\.([^.]+)$/,g=/^-?(Infinity|NaN)$/,k=/^\s*\+(?=[\w.])|^\s+|\s+$/g,A=function(e,t,n,o){var a,r=n?t:t.replace(k,"");if(g.test(r))e.s=isNaN(r)?null:r<0?-1:1;else{if(!n&&(r=r.replace(f,function(e,t,n){return a="x"==(n=n.toLowerCase())?16:"b"==n?2:8,o&&o!=a?e:t}),o&&(a=o,r=r.replace(h,"$1").replace(b,"0.$1")),t!=r))return new z(r,a);if(z.DEBUG)throw Error(i+"Not a"+(o?" base "+o:"")+" number: "+t);e.s=null}e.c=e.e=null},P.absoluteValue=P.abs=function(){var e=new z(this);return e.s<0&&(e.s=1),e},P.comparedTo=function(e,t){return m(this,new z(e,t))},P.decimalPlaces=P.dp=function(e,t){var n,o,a;if(null!=e)return p(e,0,1e9),null==t?t=C:p(t,0,8),Q(new z(this),e+this.e+1,t);if(!(n=this.c))return null;if(o=((a=n.length-1)-c(this.e/14))*14,a=n[a])for(;a%10==0;a/=10,o--);return o<0&&(o=0),o},P.dividedBy=P.div=function(e,t){return v(this,new z(e,t),B,C)},P.dividedToIntegerBy=P.idiv=function(e,t){return v(this,new z(e,t),0,1)},P.exponentiatedBy=P.pow=function(e,t){var n,o,s,u,c,l,m,p,_,y=this;if((e=new z(e)).c&&!e.isInteger())throw Error(i+"Exponent not an integer: "+W(e));if(null!=t&&(t=new z(t)),l=e.e>14,!y.c||!y.c[0]||1==y.c[0]&&!y.e&&1==y.c.length||!e.c||!e.c[0])return _=new z(Math.pow(+W(y),l?e.s*(2-d(e)):+W(e))),t?_.mod(t):_;if(m=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new z(NaN);(o=!m&&y.isInteger()&&t.isInteger())&&(y=y.mod(t))}else{if(e.e>9&&(y.e>0||y.e<-1||(0==y.e?y.c[0]>1||l&&y.c[1]>=24e7:y.c[0]<8e13||l&&y.c[0]<=9999975e7)))return u=y.s<0&&d(e)?-0:0,y.e>-1&&(u=1/u),new z(m?1/u:u);N&&(u=a(N/14+2))}for(l?(n=new z(.5),m&&(e.s=1),p=d(e)):p=(s=Math.abs(+W(e)))%2,_=new z(I);;){if(p){if(!(_=_.times(y)).c)break;u?_.c.length>u&&(_.c.length=u):o&&(_=_.mod(t))}if(s){if(0===(s=r(s/2)))break;p=s%2}else if(Q(e=e.times(n),e.e+1,1),e.e>14)p=d(e);else{if(0==(s=+W(e)))break;p=s%2}y=y.times(y),u?y.c&&y.c.length>u&&(y.c.length=u):o&&(y=y.mod(t))}return o?_:(m&&(_=I.div(_)),t?_.mod(t):u?Q(_,N,C,c):_)},P.integerValue=function(e){var t=new z(this);return null==e?e=C:p(e,0,8),Q(t,t.e+1,e)},P.isEqualTo=P.eq=function(e,t){return 0===m(this,new z(e,t))},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(e,t){return m(this,new z(e,t))>0},P.isGreaterThanOrEqualTo=P.gte=function(e,t){return 1===(t=m(this,new z(e,t)))||0===t},P.isInteger=function(){return!!this.c&&c(this.e/14)>this.c.length-2},P.isLessThan=P.lt=function(e,t){return 0>m(this,new z(e,t))},P.isLessThanOrEqualTo=P.lte=function(e,t){return -1===(t=m(this,new z(e,t)))||0===t},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&0==this.c[0]},P.minus=function(e,t){var n,o,a,r,i=this.s;if(t=(e=new z(e,t)).s,!i||!t)return new z(NaN);if(i!=t)return e.s=-t,this.plus(e);var s=this.e/14,u=e.e/14,l=this.c,m=e.c;if(!s||!u){if(!l||!m)return l?(e.s=-t,e):new z(m?this:NaN);if(!l[0]||!m[0])return m[0]?(e.s=-t,e):new z(l[0]?this:3==C?-0:0)}if(s=c(s),u=c(u),l=l.slice(),i=s-u){for((r=i<0)?(i=-i,a=l):(u=s,a=m),a.reverse(),t=i;t--;a.push(0));a.reverse()}else for(o=(r=(i=l.length)<(t=m.length))?i:t,i=t=0;t<o;t++)if(l[t]!=m[t]){r=l[t]<m[t];break}if(r&&(a=l,l=m,m=a,e.s=-e.s),(t=(o=m.length)-(n=l.length))>0)for(;t--;l[n++]=0);for(t=1e14-1;o>i;){if(l[--o]<m[o]){for(n=o;n&&!l[--n];l[n]=t);--l[n],l[o]+=1e14}l[o]-=m[o]}for(;0==l[0];l.splice(0,1),--u);return l[0]?D(e,l,u):(e.s=3==C?-1:1,e.c=[e.e=0],e)},P.modulo=P.mod=function(e,t){var n,o;return(e=new z(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==q?(o=e.s,e.s=1,n=v(this,e,0,3),e.s=o,n.s*=o):n=v(this,e,0,q),(e=this.minus(n.times(e))).c[0]||1!=q||(e.s=this.s),e):new z(this):new z(NaN)},P.multipliedBy=P.times=function(e,t){var n,o,a,r,i,s,u,l,m,p,d,_,y,f=this.c,h=(e=new z(e,t)).c;if(!f||!h||!f[0]||!h[0])return this.s&&e.s&&(!f||f[0]||h)&&(!h||h[0]||f)?(e.s*=this.s,f&&h?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(o=c(this.e/14)+c(e.e/14),e.s*=this.s,(u=f.length)<(p=h.length)&&(y=f,f=h,h=y,a=u,u=p,p=a),a=u+p,y=[];a--;y.push(0));for(a=p;--a>=0;){for(n=0,d=h[a]%1e7,_=h[a]/1e7|0,r=a+(i=u);r>a;)s=_*(l=f[--i]%1e7)+(m=f[i]/1e7|0)*d,n=((l=d*l+s%1e7*1e7+y[r]+n)/1e14|0)+(s/1e7|0)+_*m,y[r--]=l%1e14;y[r]=n}return n?++o:y.splice(0,1),D(e,y,o)},P.negated=function(){var e=new z(this);return e.s=-e.s||null,e},P.plus=function(e,t){var n,o=this.s;if(t=(e=new z(e,t)).s,!o||!t)return new z(NaN);if(o!=t)return e.s=-t,this.minus(e);var a=this.e/14,r=e.e/14,i=this.c,s=e.c;if(!a||!r){if(!i||!s)return new z(o/0);if(!i[0]||!s[0])return s[0]?e:new z(i[0]?this:0*o)}if(a=c(a),r=c(r),i=i.slice(),o=a-r){for(o>0?(r=a,n=s):(o=-o,n=i),n.reverse();o--;n.push(0));n.reverse()}for((o=i.length)-(t=s.length)<0&&(n=s,s=i,i=n,t=o),o=0;t;)o=(i[--t]=i[t]+s[t]+o)/1e14|0,i[t]=1e14===i[t]?0:i[t]%1e14;return o&&(i=[o].concat(i),++r),D(e,i,r)},P.precision=P.sd=function(e,t){var n,o,a;if(null!=e&&!!e!==e)return p(e,1,1e9),null==t?t=C:p(t,0,8),Q(new z(this),e,t);if(!(n=this.c))return null;if(o=14*(a=n.length-1)+1,a=n[a]){for(;a%10==0;a/=10,o--);for(a=n[0];a>=10;a/=10,o++);}return e&&this.e+1>o&&(o=this.e+1),o},P.shiftedBy=function(e){return p(e,-9007199254740991,9007199254740991),this.times("1e"+e)},P.squareRoot=P.sqrt=function(){var e,t,n,o,a,r=this.c,i=this.s,s=this.e,u=B+4,m=new z("0.5");if(1!==i||!r||!r[0])return new z(!i||i<0&&(!r||r[0])?NaN:r?this:1/0);if(0==(i=Math.sqrt(+W(this)))||i==1/0?(((t=l(r)).length+s)%2==0&&(t+="0"),i=Math.sqrt(+t),s=c((s+1)/2)-(s<0||s%2),n=new z(t=i==1/0?"5e"+s:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+s)):n=new z(i+""),n.c[0]){for((i=(s=n.e)+u)<3&&(i=0);;)if(a=n,n=m.times(a.plus(v(this,a,u,1))),l(a.c).slice(0,i)===(t=l(n.c)).slice(0,i)){if(n.e<s&&--i,"9999"!=(t=t.slice(i-3,i+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(Q(n,n.e+B+2,1),e=!n.times(n).eq(this));break}if(!o&&(Q(a,a.e+B+2,0),a.times(a).eq(this))){n=a;break}u+=4,i+=4,o=1}}return Q(n,n.e+B+1,C,e)},P.toExponential=function(e,t){return null!=e&&(p(e,0,1e9),e++),G(this,e,t,1)},P.toFixed=function(e,t){return null!=e&&(p(e,0,1e9),e=e+this.e+1),G(this,e,t)},P.toFormat=function(e,t,n){var o;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=O;else if("object"!=typeof n)throw Error(i+"Argument not an object: "+n);if(o=this.toFixed(e,t),this.c){var a,r=o.split("."),s=+n.groupSize,u=+n.secondaryGroupSize,c=n.groupSeparator||"",l=r[0],m=r[1],p=this.s<0,d=p?l.slice(1):l,_=d.length;if(u&&(a=s,s=u,u=a,_-=a),s>0&&_>0){for(a=_%s||s,l=d.substr(0,a);a<_;a+=s)l+=c+d.substr(a,s);u>0&&(l+=c+d.slice(a)),p&&(l="-"+l)}o=m?l+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?m.replace(RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):m):l}return(n.prefix||"")+o+(n.suffix||"")},P.toFraction=function(e){var t,n,o,a,r,s,c,m,p,d,_,y,f=this.c;if(null!=e&&(!(c=new z(e)).isInteger()&&(c.c||1!==c.s)||c.lt(I)))throw Error(i+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+W(c));if(!f)return new z(this);for(t=new z(I),p=n=new z(I),o=m=new z(I),y=l(f),r=t.e=y.length-this.e-1,t.c[0]=u[(s=r%14)<0?14+s:s],e=!e||c.comparedTo(t)>0?r>0?t:p:c,s=M,M=1/0,c=new z(y),m.c[0]=0;d=v(c,t,0,1),1!=(a=n.plus(d.times(o))).comparedTo(e);)n=o,o=a,p=m.plus(d.times(a=p)),m=a,t=c.minus(d.times(a=t)),c=a;return a=v(e.minus(n),o,0,1),m=m.plus(a.times(p)),n=n.plus(a.times(o)),m.s=p.s=this.s,r*=2,_=1>v(p,o,r,C).minus(this).abs().comparedTo(v(m,n,r,C).minus(this).abs())?[p,o]:[m,n],M=s,_},P.toNumber=function(){return+W(this)},P.toPrecision=function(e,t){return null!=e&&p(e,1,1e9),G(this,e,t,2)},P.toString=function(e){var t,n=this,o=n.s,a=n.e;return null===a?o?(t="Infinity",o<0&&(t="-"+t)):t="NaN":(null==e?t=a<=E||a>=S?_(l(n.c),a):y(l(n.c),a,"0"):10===e&&R?t=y(l((n=Q(new z(n),B+a+1,C)).c),n.e,"0"):(p(e,2,F.length,"Base"),t=w(y(l(n.c),a,"0"),10,e,o,!0)),o<0&&n.c[0]&&(t="-"+t)),t},P.valueOf=P.toJSON=function(){return W(this)},P._isBigNumber=!0,P[Symbol.toStringTag]="BigNumber",P[Symbol.for("nodejs.util.inspect.custom")]=P.valueOf,null!=t&&z.set(t),z}();t.Z=f}}]);