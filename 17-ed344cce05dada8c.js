"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{98654:function(e,t,a){a.d(t,{default:function(){return c}});var r=a(27573),n=a(40416),o=a(50294),i=a(7653);let s=e=>{let{width:t=100,height:a=100,color:n="#666",background:o="#ccc",fontSize:i="20",text:s,className:c}=e,l=s||"".concat(t,"x").concat(a),d=encodeURIComponent('\n    <svg width="'.concat(t,'" height="').concat(a,'" xmlns="http://www.w3.org/2000/svg">\n      <rect width="100%" height="100%" fill="').concat(o,'" stroke="').concat(n,'" />\n      <text x="50%" y="50%" dominant-baseline="middle" font-family="-apple-system, Inter, sans-serif" text-anchor="middle" fill="').concat(n,'" font-size="').concat(i,'" font-size-adjust="0.58" >\n        ').concat(l,"\n      </text>\n\n    </svg>\n\n"));return(0,r.jsx)("img",{className:c,src:"data:image/svg+xml;charset=UTF-8,".concat(d),alt:"".concat(t,"x").concat(a," placeholder")})};var c=e=>{let[t,a]=(0,i.useState)(!1),c=(0,i.useMemo)(()=>e.src||"",[e.src]),l=(0,i.useMemo)(()=>c?"string"==typeof c&&c.startsWith("blob:")?c:"".concat(c,"?img-width=").concat(e.width,"&img-dpr=2&img-onerror=redirect"):"",[c,e.width]),[d,u]=(0,i.useState)(l);return((0,i.useEffect)(()=>{u(l),a(!1)},[l]),!d||t)?(0,r.jsx)(s,{className:(0,n.cn)(e.className),width:e.width||100,height:e.height||100,text:"Unable to display image",fontSize:"65%",background:"transparent"}):(0,r.jsx)(o.default,{...e,src:d,unoptimized:!0,onError:()=>{u(e.src),d===e.src&&(a(!0),e.onError&&e.onError())},alt:e.alt||""})}},16273:function(e,t,a){a.d(t,{d:function(){return c},z:function(){return l}});var r=a(27573),n=a(24880),o=a(85145),i=a(7653),s=a(40416);let c=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef((e,t)=>{let{className:a,variant:o,size:i,asChild:l=!1,...d}=e,u=l?n.g7:"button";return(0,r.jsx)(u,{className:(0,s.cn)(c({variant:o,size:i,className:a})),ref:t,...d})});l.displayName="Button"},98521:function(e,t,a){a.d(t,{$N:function(){return p},Be:function(){return g},GG:function(){return u},PK:function(){return d},Vq:function(){return c},cN:function(){return y},cZ:function(){return f},fK:function(){return h},hg:function(){return l},t9:function(){return m}});var r=a(27573),n=a(7653),o=a(28757),i=a(10269),s=a(40416);let c=o.fC,l=o.xz,d=o.h_,u=o.x8,m=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(o.aV,{ref:t,className:(0,s.cn)("fixed inset-0 z-[998] backdrop-blur-[3px] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});m.displayName=o.aV.displayName;let f=n.forwardRef((e,t)=>{let{className:a,children:n,showClose:c,...l}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(o.VY,{ref:t,className:(0,s.cn)("fixed left-[50%] top-[50%] z-[999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:border-slate-800 dark:bg-slate-950 sm:rounded-lg",a),...l,children:[n,c&&(0,r.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-400",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=o.VY.displayName;let h=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,s.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};h.displayName="DialogHeader";let y=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,s.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};y.displayName="DialogFooter";let p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(o.Dx,{ref:t,className:(0,s.cn)("text-lg font-semibold leading-none tracking-tight text-gray-200",a),...n})});p.displayName=o.Dx.displayName;let g=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(o.dk,{ref:t,className:(0,s.cn)("text-sm text-slate-500 dark:text-slate-400",a),...n})});g.displayName=o.dk.displayName},95333:function(e,t,a){a.d(t,{J2:function(){return s},QH:function(){return l},xo:function(){return c},yk:function(){return d}});var r=a(27573),n=a(94300),o=a(7653),i=a(40416);let s=n.fC,c=n.xz,l=n.Eh,d=o.forwardRef((e,t)=>{let{className:a,align:o="center",sideOffset:s=4,...c}=e;return(0,r.jsx)(n.h_,{children:(0,r.jsx)(n.VY,{ref:t,align:o,sideOffset:s,className:(0,i.cn)("z-50 w-72 rounded-md border border-slate-200 bg-white p-4 text-slate-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",a),...c})})});d.displayName=n.VY.displayName},99629:function(e,t,a){a.d(t,{Af:function(){return d},S7:function(){return w},r9:function(){return u}});var r=a(65634),n=a(93069),o=a(7653),i=a(17787),s=a(77930),c=a(5068),l=a(15969);let d="temp-default-bookmark-id",u={id:d,name:"default",user_id:"temp_id",created_at:new Date().toISOString(),bookmark_items:[],bookmark_items_with_created_at:[]},m=(e,t,a,r)=>e.map(e=>{if(e.id!==t)return e;if("add"===r){if(e.bookmark_items.includes(a))return e;let t={item_id:a,created_at:new Date().toISOString()};return{...e,bookmark_items:[...e.bookmark_items,a],bookmark_items_with_created_at:[...e.bookmark_items_with_created_at||[],t]}}return{...e,bookmark_items:e.bookmark_items.filter(e=>e!==a),bookmark_items_with_created_at:(e.bookmark_items_with_created_at||[]).filter(e=>e.item_id!==a)}}),f=(e,t,a)=>e.map(e=>e.id===t?{...e,name:a}:e),h=async e=>{let t=await fetch(e,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok&&304!==t.status)throw Error("HTTP error! Status: ".concat(t.status));return t.json()},y=async(e,t)=>{let{bookmarksKey:a,bookmarkedCoinsKey:r,sidebarCoinsKey:n,selectedBookmarkId:o,sidebarSelectedBookmarkId:i,bookmarkId:s,itemId:c,operation:l}=t;await e.cancelQueries({queryKey:a}),await e.cancelQueries({queryKey:r}),await e.cancelQueries({queryKey:n});let d=e.getQueryData(a),u=e.getQueryData(r),f=e.getQueryData(n);return e.setQueryData(a,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return m(e,s,c,l)}),r&&o===s&&e.setQueryData(r,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"add"===l?[...e,{mint:c}]:e.filter(e=>e.mint!==c)}),n&&i===s&&e.setQueryData(n,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"add"===l?[...e,{mint:c}]:e.filter(e=>e.mint!==c)}),{previousBookmarks:d,previousBookmarkedCoins:u,previousSidebarCoins:f}},p=(e,t)=>{let{bookmarksKey:a,bookmarkedCoinsKey:r,sidebarCoinsKey:n,context:o}=t;(null==o?void 0:o.previousBookmarks)&&e.setQueryData(a,o.previousBookmarks),(null==o?void 0:o.previousBookmarkedCoins)&&e.setQueryData(r,o.previousBookmarkedCoins),(null==o?void 0:o.previousSidebarCoins)&&e.setQueryData(n,o.previousSidebarCoins)},g=(e,t)=>{let{bookmarksKey:a,bookmarkedCoinsKey:r,sidebarCoinsKey:n}=t;e.invalidateQueries({queryKey:a}).catch(console.error),e.invalidateQueries({queryKey:r}).catch(console.error),e.invalidateQueries({queryKey:n}).catch(console.error)},w=function(e,t,a,m,w){let k=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"default",b=arguments.length>6&&void 0!==arguments[6]&&arguments[6],v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"default",{decodedJwt:x}=(0,r.U)(),S=(0,s.NL)(),C=t?["bookmarks",null==x?void 0:x.address]:[],_=e?["bookmarkedCoins",k,a,m,w]:[],N=b?["sidebarBookmarkedCoins",v]:[],{data:I=[u],isLoading:F}=(0,c.a)({queryKey:C,queryFn:()=>h("".concat((0,n.oW)(),"/bookmarks")),enabled:!!t,staleTime:3e5}),{data:D=[],isLoading:A}=(0,c.a)({queryKey:_,queryFn:()=>h("".concat((0,n.oW)(),"/coins/bookmarks/").concat(k,"?").concat(new URLSearchParams({offset:(a||0).toString(),limit:(m||50).toString(),includeNsfw:(w||!1).toString()}))),enabled:!!e,staleTime:3e5}),{data:T=[],isLoading:E}=(0,c.a)({queryKey:N,queryFn:()=>h("".concat((0,n.oW)(),"/coins/bookmarks/").concat(v,"?").concat(new URLSearchParams({offset:"0",limit:"30",includeNsfw:(w||!0).toString()}))),enabled:!!b,staleTime:3e5}),j=(0,o.useMemo)(()=>{let e=I.reduce((e,t)=>{var a;return(null===(a=t.bookmark_items_with_created_at)||void 0===a?void 0:a.length)?[...e,...t.bookmark_items_with_created_at]:e},[]);return Array.from(new Set(e.map(e=>e.item_id))).map(t=>e.find(e=>e.item_id===t))},[I]),Q=(0,l.D)({mutationFn:async e=>{let{itemId:t,bookmarkId:a}=e,r=await fetch("".concat((0,n.oW)(),"/bookmarks/").concat(a,"/items"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId:t})});if(!r.ok)throw Error("HTTP error! Status: ".concat(r.status));return{result:await r.json(),itemId:t,bookmarkId:a}},onMutate:async e=>{let{itemId:t,bookmarkId:a}=e;return y(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N,selectedBookmarkId:k,sidebarSelectedBookmarkId:v,bookmarkId:a,itemId:t,operation:"add"})},onError:(e,t,a)=>{let{itemId:r,bookmarkId:n}=t;p(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N,context:a}),i.A.error("Failed to add coin to watchlist",{description:"error adding to watchlist"})},onSettled:()=>{g(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N})},onSuccess:e=>{let{result:t,itemId:a,bookmarkId:r}=e;i.A.success("Added coin to watchlist",{duration:2e3})}}),O=(0,l.D)({mutationFn:async e=>{let t=await fetch("".concat((0,n.oW)(),"/bookmarks/default/items"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId:e})});if(!t.ok)throw Error("HTTP error! Status: ".concat(t.status));return{result:await t.json(),itemId:e}},onMutate:async e=>y(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N,selectedBookmarkId:k,sidebarSelectedBookmarkId:v,bookmarkId:"default",itemId:e,operation:"add"}),onError:(e,t,a)=>{p(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N,context:a}),i.A.error("Failed to add coin to watchlist",{description:"error adding to watchlist"})},onSettled:()=>{g(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N})},onSuccess:e=>{let{result:t,itemId:a}=e;i.A.success("Added to watchlist",{duration:2e3})}}),P=(0,l.D)({mutationFn:async e=>{let{itemId:t,bookmarkId:a}=e,r=await fetch("".concat((0,n.oW)(),"/bookmarks/").concat(a,"/").concat(t),{method:"DELETE",credentials:"include"});if(!r.ok)throw Error("HTTP error! Status: ".concat(r.status));return{itemId:t,bookmarkId:a}},onMutate:async e=>{let{itemId:t,bookmarkId:a}=e;return y(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N,selectedBookmarkId:k,sidebarSelectedBookmarkId:v,bookmarkId:a,itemId:t,operation:"remove"})},onError:(e,t,a)=>{let{itemId:r,bookmarkId:n}=t;p(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N,context:a}),i.A.error("Failed to remove coin from watchlist",{description:"error removing from watchlist"})},onSettled:()=>{g(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N})},onSuccess:e=>{let{itemId:t,bookmarkId:a}=e;i.A.success("Removed coin from watchlist",{duration:2e3})}}),q=(0,l.D)({mutationFn:async e=>{let t=await fetch("".concat((0,n.oW)(),"/bookmarks"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!t.ok)throw Error("Failed to create bookmark");return t.json()},onMutate:async e=>{await S.cancelQueries({queryKey:C});let t=S.getQueryData(C),a={id:"temp-".concat(Date.now()),name:e,user_id:(null==x?void 0:x.address)||"temp_id",created_at:new Date().toISOString(),bookmark_items:[],bookmark_items_with_created_at:[]};return S.setQueryData(C,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...e,a]}),{previousBookmarks:t,tempBookmark:a}},onError:(e,t,a)=>{p(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N,context:a}),i.A.error("Failed to create watchlist",{description:"error creating watchlist"})},onSuccess:e=>{g(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N}),i.A.success("Watchlist created",{description:(null==e?void 0:e.name)?"You successfully created ".concat(e.name," watchlist"):"You successfully created the watchlist",duration:5e3})}}),W=(0,l.D)({mutationFn:async e=>{let{bookmarkId:t,newName:a}=e;if(!(await fetch("".concat((0,n.oW)(),"/bookmarks/").concat(t),{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({newName:a})})).ok)throw Error("Failed to update bookmark name");return{bookmarkId:t,newName:a}},onMutate:async e=>{let{bookmarkId:t,newName:a}=e;await S.cancelQueries({queryKey:C});let r=S.getQueryData(C);return S.setQueryData(C,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return f(e,t,a)}),{previousBookmarks:r}},onError:(e,t,a)=>{let{bookmarkId:r,newName:n}=t;p(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N,context:a}),i.A.error("Failed to update watchlist name",{description:"error updating watchlist name"})},onSuccess:e=>{let{bookmarkId:t,newName:a}=e;g(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N}),i.A.success("Watchlist name updated")}}),K=(0,l.D)({mutationFn:async e=>{if(!(await fetch("".concat((0,n.oW)(),"/bookmarks/").concat(e),{method:"DELETE",credentials:"include"})).ok)throw Error("Failed to delete bookmark");return{bookmarkId:e}},onMutate:async e=>{await S.cancelQueries({queryKey:C}),await S.cancelQueries({queryKey:_}),await S.cancelQueries({queryKey:N});let t=S.getQueryData(C),a=S.getQueryData(_),r=S.getQueryData(N);return S.setQueryData(C,function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter(t=>t.id!==e)}),k===e&&S.setQueryData(_,[]),v===e&&S.setQueryData(N,[]),{previousBookmarks:t,previousBookmarkedCoins:a,previousSidebarCoins:r,bookmarkId:e}},onError:(e,t,a)=>{p(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N,context:a}),i.A.error("Failed to delete watchlist",{description:"error deleting watchlist"})},onSuccess:(e,t,a)=>{var r,n;let{bookmarkId:o}=e;g(S,{bookmarksKey:C,bookmarkedCoinsKey:_,sidebarCoinsKey:N});let s=null==a?void 0:null===(n=a.previousBookmarks)||void 0===n?void 0:null===(r=n.find(e=>e.id===o))||void 0===r?void 0:r.name;i.A.success("Watchlist deleted",{description:s?"You deleted ".concat(s," watchlist"):"You successfully deleted the watchlist",duration:5e3})}}),z=(0,o.useCallback)(async(e,t)=>{if(!x){i.A.error("Failed to add coin to watchlist",{description:"connect your wallet to add coin to watchlist"});return}try{t===d?await O.mutateAsync(e):await Q.mutateAsync({itemId:e,bookmarkId:t})}catch(e){}},[x,Q,O]),B=(0,o.useCallback)(async(e,t)=>{if(!x){i.A.error("Failed to remove coin from watchlist",{description:"connect your wallet to remove coin from watchlist"});return}try{await P.mutateAsync({itemId:e,bookmarkId:t})}catch(e){}},[x,P]),R=(0,o.useCallback)(async e=>{if(!x){i.A.error("Failed to create watchlist",{description:"connect your wallet to create watchlist"});return}try{await q.mutateAsync(e)}catch(e){}},[x,q]),H=(0,o.useCallback)(async(e,t)=>{if(!x){i.A.error("Failed to update watchlist name",{description:"connect your wallet to update watchlist name"});return}try{await W.mutateAsync({bookmarkId:e,newName:t})}catch(e){}},[x,W]),M=(0,o.useCallback)(async e=>{if(!x){i.A.error("Failed to delete watchlist",{description:"connect your wallet to delete watchlist"});return}try{await K.mutateAsync(e)}catch(e){}},[x,K]),J=(0,o.useCallback)(e=>null==j?void 0:j.some(t=>t.item_id===e),[j]),V=(0,o.useCallback)(async()=>{await S.invalidateQueries({queryKey:_})},[S,_]),Y=(0,o.useCallback)(async()=>{await S.invalidateQueries({queryKey:C})},[S,C]);return{bookmarkedCoins:D,bookmarkedItems:j,bookmarkedCoinsLoading:A,checkIfCoinIsBookmarked:J,addToBookmark:z,removeFromBookmark:B,fetchDefaultBookmarkCoins:V,fetchBookmarkCoins:(0,o.useCallback)(async()=>{await S.invalidateQueries({queryKey:_})},[S,_]),bookmarks:I,bookmarksLoading:F,createBookmark:R,deleteBookmark:M,updateBookmarkName:H,fetchBookmarks:Y,sidebarBookmarkedCoins:T,sidebarCoinsLoading:E,fetchSidebarBookmarkCoins:(0,o.useCallback)(async()=>{await S.invalidateQueries({queryKey:N})},[S,N])}}},3158:function(e,t,a){a.d(t,{o:function(){return c}});var r=a(65634),n=a(93069),o=a(7653),i=a(40416);let s=e=>!e||Number.isNaN(Number(e))?null:Number(e),c=e=>e?{marketCapFrom:s(e.marketCapFrom),marketCapTo:s(e.marketCapTo),volumeFrom:s(e.volumeFrom),volumeTo:s(e.volumeTo),numHoldersFrom:s(e.numHoldersFrom),numHoldersTo:s(e.numHoldersTo)}:{};t.Z=()=>{let{decodedJwt:e}=(0,r.U)();return{handleCoinClick:(0,o.useCallback)(async(t,a,r)=>{if(!e||void 0===a)return;let o=(0,i.w)(),s={coinId:t,batchId:a.batchId,itemPosition:a.itemPosition,screenWidth:a.screenWidth,origin:a.origin,sortBy:a.sortBy,wasAnimationOn:a.wasAnimationOn,sessionId:a.sessionId,pageNumber:a.pageNumber,marketCap:a.marketCap,createdAt:new Date().toISOString(),forYouData:a.forYouData,searchTerm:r,rec_id:a.rec_id,walletType:o};try{await fetch("".concat((0,n.oW)(),"/activity/click"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}catch(e){console.error("Error activity click:",e)}},[e]),handleCoinClickAdvanced:(0,o.useCallback)(async(t,a,r)=>{if(!e||void 0===a)return;let o=(0,i.w)(),s={coinId:t,createdAt:new Date().toISOString(),filters:c(r),itemPosition:a.itemPosition,marketCap:a.marketCap,volume:a.volume,numHolders:a.numHolders,screenWidth:a.screenWidth,sessionId:a.sessionId,batchId:a.batchId,isOwned:a.isOwned,sortBy:a.sortBy,walletType:o,origin:a.origin};try{await fetch("".concat((0,n.oW)(),"/activity/click-advanced"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}catch(e){console.error("Error activity click:",e)}},[e])}}},19369:function(e,t,a){a.d(t,{Bx:function(){return l},Py:function(){return c},cn:function(){return o},w:function(){return s}}),a(70531);var r=a(10607),n=a(25579);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,r.W)(t))}let i="https://pump.mypinata.cloud/ipfs/QmeSzchzEPqCU1jwTnsipwcBAeH7S4bmVvFGfF65iA1BY1",s=()=>{let e=localStorage.getItem("walletName");return e?JSON.parse(e):localStorage.getItem("privy:token")?"privy":void 0},c=(e,t)=>{let a=e||i;if(a.startsWith("blob:"))return a;let r=function(e){let t=e.match(/(Qm[a-zA-Z0-9]{44}|b[a-zA-Z0-9]{58})/);return t&&t[1]?"https://ipfs.io/ipfs/".concat(t[1]):e}(a);return r.includes("ipfs.io/ipfs/")?r.replace(/https:\/\/[^/]+\/ipfs\//,t):i},l=()=>{let e=localStorage.getItem("decoded-jwt");if(e)try{return JSON.parse(e).address||void 0}catch(e){return}}},47267:function(e,t,a){a.d(t,{SeenCoinsObserverProvider:function(){return d},d:function(){return u}});var r=a(27573),n=a(7653),o=a(63612),i=a(65634),s=a(93069),c=a(3158);let l=(0,n.createContext)({observe:()=>{},unobserve:()=>{},addSeenCoin:()=>{},addSeenAdvancedCoin:()=>{},generateNewSession:()=>{},logSeenCoins:async()=>{},logSeenAdvancedCoins:async()=>{},notifyPageOrFilterChange:()=>{},sessionId:null,batchId:null,getCurrentBatchId:()=>({id:"",expiresAt:0})}),d=e=>{let{children:t}=e,{decodedJwt:a}=(0,i.U)(),d=(0,n.useRef)(null),u=(0,n.useRef)(new Map),m=(0,n.useRef)(new Set),f=(0,n.useRef)(0),h=(0,n.useRef)(0),y=(0,n.useRef)(0),p=(0,n.useRef)(null),[g,w]=(0,n.useState)([]),[k,b]=(0,n.useState)([]),[v,x]=(0,n.useState)(null),[S,C]=(0,n.useState)(null),[_,N]=(0,n.useState)(!1),I=()=>{let e=localStorage.getItem("batchId");if(!e)return null;try{let t=JSON.parse(e);if(t.expiresAt<Date.now())return localStorage.removeItem("batchId"),null;return t}catch(e){return localStorage.removeItem("batchId"),null}},F=()=>{let e={id:(0,o.Z)(),expiresAt:Date.now()+18e5};return localStorage.setItem("batchId",JSON.stringify(e)),e};(0,n.useEffect)(()=>{C(I()||F())},[]);let D=(0,n.useCallback)(()=>{if(!S||S.expiresAt<Date.now()){let e=F();return C(e),e}return S},[S]),A=(0,n.useCallback)(()=>D(),[D]),T=(0,n.useCallback)(()=>{{let e=(0,o.Z)();localStorage.setItem("sessionId",e),x(e),u.current.clear(),m.current.clear(),w([]),b([])}},[]);(0,n.useEffect)(()=>{T()},[T]),(0,n.useEffect)(()=>{if(a)return d.current=new IntersectionObserver(e=>{e.forEach(e=>{let t=u.current.get(e.target);if(!t)return;let a=e.intersectionRatio,{coinId:r,callback:n,rec_id:o}=t,i=a>=.5;t.isVisible=i,!i&&m.current.has(r)&&m.current.delete(r),i&&!m.current.has(r)&&(n({entry:e,metadata:{coinId:r,rec_id:o}}),m.current.add(r))})},{threshold:[0,.5]}),()=>{var e;null===(e=d.current)||void 0===e||e.disconnect()}},[a]);let E=(0,n.useCallback)((e,t,a,r)=>{d.current&&e&&(d.current.observe(e),u.current.set(e,{coinId:t,callback:a,isVisible:!1,rec_id:r}))},[]),j=(0,n.useCallback)(e=>{d.current&&e&&(d.current.unobserve(e),u.current.get(e),u.current.delete(e))},[]),Q=(0,n.useCallback)(()=>{let e=window.scrollY,t=Date.now(),a=Math.abs(e-f.current),r=t-h.current;r>0&&(y.current=a/r),f.current=e,h.current=t,p.current&&clearTimeout(p.current)},[]);(0,n.useEffect)(()=>(window.addEventListener("scroll",Q),()=>{window.removeEventListener("scroll",Q)}),[Q]);let O=(0,n.useCallback)(()=>{N(!0),setTimeout(()=>{N(!1)},1e3),setTimeout(()=>{u.current.forEach((e,t)=>{t&&e.isVisible&&!m.current.has(e.coinId)&&(e.callback({entry:{target:t},metadata:{coinId:e.coinId,rec_id:e.rec_id}}),m.current.add(e.coinId))})},1300)},[]),P=(0,n.useCallback)(e=>{w(t=>t.some(t=>t.coinId===e.coinId&&t.sessionId===e.sessionId)?t:[...t,e])},[_]),q=(0,n.useCallback)(e=>{b(t=>t.some(t=>t.coinId===e.coinId&&t.sessionId===e.sessionId)?t:[...t,e])},[]),W=(0,n.useCallback)(async(e,t)=>{if(e.length>40){t(),u.current.clear(),m.current.clear();return}if(a&&0!==e.length)try{await fetch("".concat((0,s.oW)(),"/activity/seen"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({coins:e})}),t()}catch(e){console.error("Error logging seen coins:",e)}},[a]),K=(0,n.useCallback)(async(e,t)=>{if(e.length>40){t(),u.current.clear(),m.current.clear();return}if(!a||0===e.length)return;let r=e.map(e=>({...e,filters:(0,c.o)(e.filters)}));try{await fetch("".concat((0,s.oW)(),"/activity/seen-advanced"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({coins:r})}),t()}catch(e){console.error("Error logging advanced seen coins:",e)}},[a]);(0,n.useEffect)(()=>{let e=setInterval(()=>{W(g,()=>w([]))},1e3);return()=>clearInterval(e)},[g,a,W]),(0,n.useEffect)(()=>{let e=setInterval(()=>{K(k,()=>b([]))},1e3);return()=>clearInterval(e)},[k,a,K]);let z=(0,n.useCallback)(async()=>{await W(g,()=>w([]))},[g,W]),B=(0,n.useCallback)(async()=>{await K(k,()=>b([]))},[k,K]);return(0,r.jsx)(l.Provider,{value:{observe:E,unobserve:j,addSeenCoin:P,addSeenAdvancedCoin:q,generateNewSession:T,logSeenCoins:z,logSeenAdvancedCoins:B,sessionId:v,notifyPageOrFilterChange:O,batchId:S,getCurrentBatchId:A},children:t})},u=()=>(0,n.useContext)(l)},73211:function(e,t,a){a.d(t,{D:function(){return o},He:function(){return i},Iw:function(){return n},u4:function(){return r},xG:function(){return s}});let r=e=>e>=1e9?"".concat((e/1e9).toFixed(1),"B"):e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):"".concat(e.toFixed(0)),n=e=>e<1e-4?e.toExponential(2):e.toFixed(3),o=e=>e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"k":e.toFixed(0),i=e=>"$".concat(r(e));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$";if(null==e)return"".concat(a,"0");let r="string"==typeof e?parseFloat(e):e;return isNaN(r)?"".concat(a,"0"):r>=1e9?"".concat(a).concat((r/1e9).toFixed(t),"B"):r>=1e6?"".concat(a).concat((r/1e6).toFixed(t),"M"):r>=1e3?"".concat(a).concat((r/1e3).toFixed(t),"K"):"".concat(a).concat(r.toFixed(t))}}}]);